(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[219],{66406:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return oe}});var n=r(49501),t=r(30120),i=r(29630),a=r(11163),o=r(67294),l=r(34637),c=r(59379),d=r(34220),x=r(43629),u=r(26604),h=r(17674),v=r(80854),j=r(75331),m=r(1279),p=r(82403),b=r(44373),y=r(9144),f=r(91655),g=r(70918),Z=r(90149),w=r(75084),C=r(62097),k=r(70794),A=r(29002),S=r(16693),B=r(41024),P=r(19952),T=r(3765),_=r(82482),N=r(8195),R=r(90452),I=r(46930),E=r(77537),O=r(23608),Y=r(63067),L=r(59286),M=r(94847),V=r(57609),W=r(87385),D=r(81902),F=r(25049),U=r(68861),z=r(6662),G=r(85893),H=function(e){var s,r=e.reserve,n=(0,o.useState)(r.symbol),i=n[0],a=n[1],l=(0,E.Z)(),c=l.currentAccount,x=l.loading,u=(0,R.T)().isPermissionsLoading,f=(0,N.vR)(),g=f.openBorrow,Z=f.openSupply,w=(0,I.f)(),C=w.currentMarket,A=w.currentNetworkConfig,B=(0,d.HT)(),P=B.ghoReserveData,T=B.user,O=B.loading,V=B.marketReferencePriceInUsd,D=(0,_.P)(),F=D.walletBalances,U=D.loading,H=(0,Y.Yh)((function(e){return[e.poolComputed.minRemainingBaseTokenBalance,e.displayGho]})),re=(0,h.Z)(H,2),te=re[0],ie=re[1],ae=A.baseAssetSymbol,oe=F[r.underlyingAsset];r.isWrappedBaseAsset&&i===ae&&(oe=F[v.hP.toLowerCase()]);var le="0",ce="0",de=ie({symbol:r.symbol,currentMarket:C});if(de){var xe=(0,L.BC)(T);le=k.Z.min(xe,(0,m.hE)(P.aaveFacilitatorRemainingCapacity)).toString(),ce="0"}else{var ue;le=(0,L.nG)(r,T,j.tk.Variable).toString(),ce=(0,M.I)((null===(ue=oe)||void 0===ue?void 0:ue.amount)||"0",r,r.underlyingAsset,te).toString()}var he=(0,W.N4)(le,r.formattedPriceInMarketReferenceCurrency,V).toString(),ve=function(e,s,r){return(0,m.hE)(e).multipliedBy(s).multipliedBy(r).shiftedBy(-p.$3).toString()}(ce,r.formattedPriceInMarketReferenceCurrency,V).toString(),je=(0,z.Z)({balance:(null===(s=oe)||void 0===s?void 0:s.amount)||"0",maxAmountToSupply:ce.toString(),maxAmountToBorrow:le.toString(),reserve:r}),me=je.disableSupplyButton,pe=je.disableBorrowButton,be=je.alerts;if(!c&&!u)return(0,G.jsx)(K,{loading:x});if(O||U)return(0,G.jsx)(J,{});var ye=(0,S.hu)(C).market;return(0,G.jsxs)($,{children:[r.isWrappedBaseAsset&&(0,G.jsx)(t.Z,{children:(0,G.jsx)(se,{assetSymbol:r.symbol,baseAssetSymbol:ae,selectedAsset:i,setSelectedAsset:a})}),(0,G.jsx)(ne,{balance:oe.amount,symbol:i,marketTitle:ye.marketTitle}),r.isFrozen||r.isPaused?(0,G.jsx)(t.Z,{sx:{mt:3},children:r.isPaused?(0,G.jsx)(X,{}):(0,G.jsx)(q,{})}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(b.Z,{sx:{my:6}}),(0,G.jsxs)(y.Z,{gap:3,children:[!de&&(0,G.jsx)(Q,{reserve:r,value:ce.toString(),usdValue:ve,symbol:i,disable:me,onActionClicked:function(){r.isWrappedBaseAsset&&i===ae?Z(v.hP.toLowerCase(),C,r.name,"reserve",!0):Z(r.underlyingAsset,C,r.name,"reserve",!0)}}),r.borrowingEnabled&&(0,G.jsx)(ee,{reserve:r,value:le.toString(),usdValue:he,symbol:i,disable:pe,onActionClicked:function(){g(r.underlyingAsset,C,r.name,"reserve",!0)}}),be]})]})]})},X=function(){return(0,G.jsx)(P.v,{sx:{mb:0},severity:"error",icon:!0,children:(0,G.jsx)(n.cC,{id:"Because this asset is paused, no actions can be taken until further notice"})})},q=function(){return(0,G.jsx)(P.v,{sx:{mb:0},severity:"error",icon:!0,children:(0,G.jsx)(n.cC,{id:"Since this asset is frozen, the only available actions are withdraw and repay which can be accessed from the <0>Dashboard</0>",components:{0:(0,G.jsx)(U.rU,{href:U.Z6.dashboard})}})})},J=function(){var e=(0,G.jsxs)(y.Z,{children:[(0,G.jsx)(f.Z,{width:150,height:14}),(0,G.jsxs)(y.Z,{sx:{height:"44px"},direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,G.jsxs)(t.Z,{children:[(0,G.jsx)(f.Z,{width:100,height:14,sx:{mt:1,mb:2}}),(0,G.jsx)(f.Z,{width:75,height:12})]}),(0,G.jsx)(f.Z,{height:36,width:96})]})]});return(0,G.jsxs)($,{children:[(0,G.jsxs)(y.Z,{direction:"row",gap:3,children:[(0,G.jsx)(f.Z,{width:42,height:42,sx:{borderRadius:"12px"}}),(0,G.jsxs)(t.Z,{children:[(0,G.jsx)(f.Z,{width:100,height:12,sx:{mt:1,mb:2}}),(0,G.jsx)(f.Z,{width:100,height:14})]})]}),(0,G.jsx)(b.Z,{sx:{my:6}}),(0,G.jsx)(t.Z,{children:(0,G.jsxs)(y.Z,{gap:3,children:[e,e]})})]})},$=function(e){var s=e.children;return(0,G.jsxs)(g.Z,{sx:{pt:4,pb:{xs:4,xsm:6},px:{xs:4,xsm:6}},children:[(0,G.jsx)(i.Z,{variant:"h3",sx:{mb:6},children:(0,G.jsx)(n.cC,{id:"Your info"})}),s]})},K=function(e){var s=e.loading;return(0,G.jsx)(g.Z,{sx:{pt:4,pb:{xs:4,xsm:6},px:{xs:4,xsm:6}},children:s?(0,G.jsx)(Z.Z,{}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(i.Z,{variant:"h3",sx:{mb:{xs:6,xsm:10}},children:(0,G.jsx)(n.cC,{id:"Your info"})}),(0,G.jsx)(i.Z,{sx:{mb:6},color:"text.secondary",children:(0,G.jsx)(n.cC,{id:"Please connect a wallet to view your personal information here."})}),(0,G.jsx)(T.p,{})]})})},Q=function(e){var s=e.reserve,r=e.value,i=e.usdValue,a=e.symbol,o=e.disable,l=e.onActionClicked;return(0,G.jsxs)(y.Z,{children:[(0,G.jsx)(F.Y,{variant:"description",text:(0,G.jsx)(n.cC,{id:"Available to supply"}),capType:D.R.supplyCap,event:{eventName:V.vh.TOOL_TIP,eventParams:{tooltip:"Available to supply: your info",asset:s.underlyingAsset,assetName:s.name}}}),(0,G.jsxs)(y.Z,{sx:{height:"44px"},direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,G.jsxs)(t.Z,{children:[(0,G.jsx)(re,{value:r,symbol:a}),(0,G.jsx)(B.B,{value:i,variant:"subheader2",color:"text.muted",symbolsColor:"text.muted",symbol:"USD"})]}),(0,G.jsx)(w.Z,{sx:{height:"36px",width:"96px"},onClick:l,disabled:o,fullWidth:!1,variant:"contained","data-cy":"supplyButton",children:(0,G.jsx)(n.cC,{id:"Supply"})})]})]})},ee=function(e){var s=e.reserve,r=e.value,i=e.usdValue,a=e.symbol,o=e.disable,l=e.onActionClicked;return(0,G.jsxs)(y.Z,{children:[(0,G.jsx)(F.Y,{variant:"description",text:(0,G.jsx)(n.cC,{id:"Available to borrow"}),capType:D.R.borrowCap,event:{eventName:V.vh.TOOL_TIP,eventParams:{tooltip:"Available to borrow: your info",asset:s.underlyingAsset,assetName:s.name}}}),(0,G.jsxs)(y.Z,{sx:{height:"44px"},direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,G.jsxs)(t.Z,{children:[(0,G.jsx)(re,{value:r,symbol:a}),(0,G.jsx)(B.B,{value:i,variant:"subheader2",color:"text.muted",symbolsColor:"text.muted",symbol:"USD"})]}),(0,G.jsx)(w.Z,{sx:{height:"36px",width:"96px"},onClick:l,disabled:o,fullWidth:!1,variant:"contained","data-cy":"borrowButton",children:(0,G.jsx)(n.cC,{id:"Borrow"})})]})]})},se=function(e){var s=e.assetSymbol,r=e.baseAssetSymbol,n=e.selectedAsset,t=e.setSelectedAsset;return(0,G.jsxs)(c.f,{color:"primary",value:n,exclusive:!0,onChange:function(e,s){return t(s)},sx:{mb:4},children:[(0,G.jsx)(l.Y,{value:s,children:(0,G.jsx)(i.Z,{variant:"buttonM",children:s})}),(0,G.jsx)(l.Y,{value:r,children:(0,G.jsx)(i.Z,{variant:"buttonM",children:r})})]})},re=function(e){var s=e.value,r=e.symbol,n=e.children;return(0,G.jsxs)(y.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,G.jsx)(B.B,{value:s,variant:"h4",color:"text.primary"}),(0,G.jsx)(i.Z,{variant:"buttonL",color:"text.secondary",children:r}),n]})},ne=function(e){var s=e.balance,r=e.symbol,n=e.marketTitle,a=(0,C.Z)();return(0,G.jsxs)(y.Z,{direction:"row",gap:3,children:[(0,G.jsx)(t.Z,{sx:function(e){return{width:"42px",height:"42px",background:e.palette.background.surface,border:"0.5px solid ".concat(e.palette.background.disabled),borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center"}},children:(0,G.jsx)(A.o,{sx:{stroke:"".concat(a.palette.text.secondary)}})}),(0,G.jsxs)(t.Z,{children:[(0,G.jsx)(i.Z,{variant:"description",color:"text.secondary",children:"Wallet balance"}),(0,G.jsx)(re,{value:s,symbol:r,children:(0,G.jsx)(t.Z,{sx:{ml:2},children:(0,G.jsx)(O.f,{cryptoSymbol:r,networkMarketName:n})})})]})]})},te=r(96673),ie=r(13520),ae=r(15446);function oe(){var e=(0,a.useRouter)(),s=(0,d.HT)().reserves,r=e.query.underlyingAsset,u=(0,o.useState)("overview"),h=u[0],v=u[1],j=(0,Y.Yh)((function(e){return e.trackEvent}));(0,o.useEffect)((function(){j("Page Viewed",{"Page Name":"Reserve Overview"})}),[j]);var m=s.find((function(e){return e.underlyingAsset===r})),p="overview"===h;return(0,G.jsxs)(x.hv,{asset:m,children:[(0,G.jsx)(ie.B,{underlyingAsset:r,reserve:m}),(0,G.jsxs)(ae.O,{children:[(0,G.jsx)(t.Z,{sx:{display:{xs:"flex",lg:"none"},justifyContent:{xs:"center",xsm:"flex-start"},mb:{xs:3,xsm:4}},children:(0,G.jsxs)(c.Z,{color:"primary",value:h,exclusive:!0,onChange:function(e,s){return v(s)},sx:{width:{xs:"100%",xsm:"359px"},height:"44px"},children:[(0,G.jsx)(l.Z,{value:"overview",disabled:"overview"===h,children:(0,G.jsx)(i.Z,{variant:"subheader1",children:(0,G.jsx)(n.cC,{id:"Overview"})})}),(0,G.jsx)(l.Z,{value:"actions",disabled:"actions"===h,children:(0,G.jsx)(i.Z,{variant:"subheader1",children:(0,G.jsx)(n.cC,{id:"Your info"})})})]})}),(0,G.jsxs)(t.Z,{sx:{display:"flex"},children:[(0,G.jsx)(t.Z,{sx:{display:{xs:p?"block":"none",lg:"block"},width:{xs:"100%",lg:"calc(100% - 432px)"},mr:{xs:0,lg:4}},children:(0,G.jsx)(te.J,{reserve:m})}),(0,G.jsx)(t.Z,{sx:{display:{xs:p?"none":"block",lg:"block"},width:{xs:"100%",lg:"416px"}},children:(0,G.jsx)(H,{reserve:m})})]})]})]})}oe.getLayout=function(e){return(0,G.jsx)(u.Z,{children:e})}},97438:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reserve-overview",function(){return r(66406)}])}},function(e){e.O(0,[274,761,774,888,179],(function(){return s=97438,e(e.s=s);var s}));var s=e.O();_N_E=s}]);