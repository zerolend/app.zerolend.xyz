(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[945],{36336:function(e,t,r){"use strict";r.d(t,{Z:function(){return w}});var n=r(63366),i=r(87462),s=r(67294),o=r(86010),a=r(28320),l=r(34867),c=r(94780),u=r(29628);var d=(0,r(70182).ZP)(),p=r(66500),x=r(85893);const f=["className","component","disableGutters","fixed","maxWidth","classes"],m=(0,p.Z)(),b=d("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`maxWidth${(0,a.Z)(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),h=e=>(0,u.Z)({props:e,name:"MuiContainer",defaultTheme:m});var g=r(36622),v=r(81719),y=r(78884);const j=function(e={}){const{createStyledComponent:t=b,useThemeProps:r=h,componentName:u="MuiContainer"}=e,d=t((({theme:e,ownerState:t})=>(0,i.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}})),(({theme:e,ownerState:t})=>t.fixed&&Object.keys(e.breakpoints.values).reduce(((t,r)=>{const n=r,i=e.breakpoints.values[n];return 0!==i&&(t[e.breakpoints.up(n)]={maxWidth:`${i}${e.breakpoints.unit}`}),t}),{})),(({theme:e,ownerState:t})=>(0,i.Z)({},"xs"===t.maxWidth&&{[e.breakpoints.up("xs")]:{maxWidth:Math.max(e.breakpoints.values.xs,444)}},t.maxWidth&&"xs"!==t.maxWidth&&{[e.breakpoints.up(t.maxWidth)]:{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`}}))),p=s.forwardRef((function(e,t){const s=r(e),{className:p,component:m="div",disableGutters:b=!1,fixed:h=!1,maxWidth:g="lg"}=s,v=(0,n.Z)(s,f),y=(0,i.Z)({},s,{component:m,disableGutters:b,fixed:h,maxWidth:g}),j=((e,t)=>{const{classes:r,fixed:n,disableGutters:i,maxWidth:s}=e,o={root:["root",s&&`maxWidth${(0,a.Z)(String(s))}`,n&&"fixed",i&&"disableGutters"]};return(0,c.Z)(o,(e=>(0,l.Z)(t,e)),r)})(y,u);return(0,x.jsx)(d,(0,i.Z)({as:m,ownerState:y,className:(0,o.default)(j.root,p),ref:t},v))}));return p}({createStyledComponent:(0,v.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`maxWidth${(0,g.Z)(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,y.Z)({props:e,name:"MuiContainer"})});var w=j},99705:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return R}});var n=r(67294),i=r(90452),s=r(69311),o=r(45745),a=r(15446),l=r(56881),c=r(77537),u=r(49501),d=r(30120),p=r(40535),x=r(46930),f=r(74815),m=r(85893),b=function(){var e=(0,x.f)().currentNetworkConfig;return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(f.f,{withMarketSwitcher:!0,pageTitle:(0,m.jsx)(d.Z,{sx:{display:"flex",alignItems:"center"},children:(0,m.jsx)(p.V,{pageTitle:(0,m.jsx)(u.cC,{id:"Strategy"}),withMarketSwitcher:!1,bridge:e.bridge})}),pageDesc:(0,m.jsx)(u.cC,{id:"Select the strategy."})})})},h=r(75331),g=r(62097),v=r(61225),y=r(57014),j=r(59499),w=r(17674),Z=r(45556),O=r(29630),C=r(75084),P=r(70794),k=r(34220),S=r(82482),B=r(1279),D=r(82403),T=r(80854),A=r(41551),E=r(4071),N=r(68861);function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){(0,j.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var W=function(){var e=(0,g.Z)(),t=(0,v.Z)(e.breakpoints.down("sm")),r=(0,x.f)(),n=r.currentNetworkConfig,i=r.currentMarket,o=(0,k.HT)(),a=o.user,l=o.reserves,c=o.marketReferencePriceInUsd,p=(0,S.P)().walletBalances,f=(0,s.Yh)((function(e){return[e.displayGho]})),b=(0,w.Z)(f,1)[0],h=n.baseAssetSymbol,y="true"===localStorage.getItem("showSupplyZeroAssets"),j=l.filter((function(e){return!(e.isFrozen||e.isPaused)&&!b({symbol:e.symbol,currentMarket:i})})).map((function(e){var t,r,n=null===(t=p[e.underlyingAsset])||void 0===t?void 0:t.amount,i=null===(r=p[e.underlyingAsset])||void 0===r?void 0:r.amountUSD,s=(0,B.hE)(n);"0"!==e.supplyCap&&(s=P.Z.min(s,new P.Z(e.supplyCap).minus(e.totalLiquidity).multipliedBy("0.995")));var o=(0,B.hE)(s).multipliedBy(e.priceInMarketReferenceCurrency).multipliedBy(c).shiftedBy(-D.$3).toString(),l=e.isIsolated,u=null===a||void 0===a?void 0:a.userReservesData.find((function(t){return t.usageAsCollateralEnabledOnUser&&t.reserve.id!==e.id})),d=null!==a&&void 0!==a&&a.isInIsolationMode?!!l&&!u:"0"!==e.reserveLiquidationThreshold&&(!l||l&&!u);if(e.isWrappedBaseAsset){var x,f,m,b=(0,B.hE)(null===(x=p[T.hP.toLowerCase()])||void 0===x?void 0:x.amount);"0"!==e.supplyCap&&(b=P.Z.min(b,new P.Z(e.supplyCap).minus(e.totalLiquidity).multipliedBy("0.995")));var g=(0,B.hE)(b).multipliedBy(e.priceInMarketReferenceCurrency).multipliedBy(c).shiftedBy(-D.$3).toString();return[M(M(M({},e),{},{reserve:e,underlyingAsset:T.hP.toLowerCase()},(0,A.QD)({symbol:h,underlyingAsset:T.hP.toLowerCase()})),{},{walletBalance:null===(f=p[T.hP.toLowerCase()])||void 0===f?void 0:f.amount,walletBalanceUSD:null===(m=p[T.hP.toLowerCase()])||void 0===m?void 0:m.amountUSD,availableToDeposit:b.toString(),availableToDepositUSD:g,usageAsCollateralEnabledOnUser:d,detailsAddress:e.underlyingAsset,id:e.id+"base"}),M(M({},e),{},{reserve:e,walletBalance:n,walletBalanceUSD:i,availableToDeposit:s.toNumber()<=0?"0":s.toString(),availableToDepositUSD:Number(o)<=0?"0":o.toString(),usageAsCollateralEnabledOnUser:d,detailsAddress:e.underlyingAsset})]}return M(M({},e),{},{reserve:e,walletBalance:n,walletBalanceUSD:i,availableToDeposit:s.toNumber()<=0?"0":s.toString(),availableToDepositUSD:Number(o)<=0?"0":o.toString(),usageAsCollateralEnabledOnUser:d,detailsAddress:e.underlyingAsset})})).flat().sort((function(e,t){return+e.walletBalanceUSD>+t.walletBalanceUSD?-1:1})),U=j.filter((function(e){return"0"!==e.availableToDepositUSD})),W=y?j:U.length>=1?U:j,L=(0,E.AI)(!1,"","assets",W);return(0,m.jsx)(d.Z,{mb:6,sx:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:"16px"},children:L.map((function(e){return(0,m.jsx)(d.Z,{sx:{boxSizing:"border-box"},children:(0,m.jsx)(Z.l,{titleComponent:(0,m.jsxs)(d.Z,{children:[(0,m.jsx)(O.Z,{component:"p",variant:"h3",sx:{mr:4},children:(0,m.jsx)(u.cC,{id:"Loop Leverage - {0}",values:{0:e.symbol}})}),(0,m.jsxs)(O.Z,{component:"p",variant:"description",sx:{mr:4},color:"text.muted",children:["Wallet Balance: ",e.walletBalance]})]}),withBottomMargin:!0,children:(0,m.jsx)(d.Z,{sx:t?{px:4,pb:4}:{px:6,pb:4},children:(0,m.jsx)(C.Z,{variant:"contained",href:N.Z6.strategyOverview(e.detailsAddress,i),fullWidth:!0,children:"Go to Leverage"})})})},e.symbol)}))})},L=function(){var e=(0,g.Z)().breakpoints,t=(0,x.f)().setCurrentMarket,r=(0,s.Yh)((function(e){return e.currentMarketData})),i=(0,v.Z)(e.up("lg"));return(0,n.useEffect)((function(){t(y.el.proto_linea_v3)}),[]),(0,m.jsxs)(d.Z,{children:[r.chainId===h.a_.polygon&&!r.v3,(0,m.jsx)(d.Z,{sx:{display:i?"flex":"block",justifyContent:"space-between",alignItems:"flex-start"},children:(0,m.jsx)(d.Z,{sx:{display:{xs:"block",lg:"block"},width:"100%"},children:(0,m.jsx)(W,{})})})]})};function R(){var e=(0,c.Z)(),t=e.currentAccount,r=e.loading,l=(0,i.T)().isPermissionsLoading,u=(0,s.Yh)((function(e){return e.trackEvent}));return(0,n.useEffect)((function(){u("Page Viewed",{"Page Name":"Strategy"})}),[u]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(b,{}),(0,m.jsx)(a.O,{children:t&&!l?(0,m.jsx)(L,{}):(0,m.jsx)(o.w,{loading:r})})]})}R.getLayout=function(e){return(0,m.jsx)(l.Z,{children:e})}},45745:function(e,t,r){"use strict";r.d(t,{w:function(){return f}});var n=r(59499),i=r(4730),s=r(49501),o=r(70918),a=r(90149),l=r(29630),c=r(3765),u=r(85893),d=["loading","description","sx"];function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(e){var t=e.loading,r=e.description,n=e.sx,p=(0,i.Z)(e,d);return(0,u.jsx)(o.Z,x(x({},p),{},{sx:x({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",p:4,flex:1},n),children:(0,u.jsx)(u.Fragment,{children:t?(0,u.jsx)(a.Z,{}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(l.Z,{variant:"h2",sx:{mb:2},children:(0,u.jsx)(s.cC,{id:"Please, connect your wallet"})}),(0,u.jsx)(l.Z,{sx:{mb:6},color:"text.secondary",children:r||(0,u.jsx)(s.cC,{id:"Please connect your wallet to see your supplies, borrowings, and open positions."})}),(0,u.jsx)(c.p,{})]})})}))}},15446:function(e,t,r){"use strict";r.d(t,{O:function(){return o}});var n=r(30120),i=r(36336),s=r(85893),o=function(e){var t=e.children;return(0,s.jsx)(n.Z,{sx:{display:"flex",flexDirection:"column",flex:1,mt:{xs:"-32px",lg:"-46px",xl:"-44px",xxl:"-48px"}},children:(0,s.jsx)(i.Z,{children:t})})}},40535:function(e,t,r){"use strict";r.d(t,{V:function(){return f}});var n=r(49501),i=r(62097),s=r(61225),o=r(30120),a=r(29630),l=r(75084),c=r(69311),u=r(67728),d=r(16693),p=r(68861),x=r(85893),f=function(e){var t=e.pageTitle,r=e.withMarketSwitcher,f=e.withMigrateButton,m=(0,c.Yh)((function(e){return(0,u.lY)(e)})),b=(0,i.Z)(),h=(0,s.Z)(b.breakpoints.up("lg")),g=(0,s.Z)(b.breakpoints.down("xsm"));return(0,x.jsxs)(o.Z,{sx:{display:"flex",alignItems:{xs:"flex-start",xsm:"center"},mb:t?4:0,flexDirection:{xs:"column",xsm:"row"}},children:[t&&(g||!r)&&(0,x.jsx)(o.Z,{sx:{display:"flex",alignItems:"flex-start"},children:(0,x.jsx)(a.Z,{variant:g?"h2":h?"display1":"h1",sx:{color:r?"text.muted":"text.white",mr:{xs:5,xsm:3},mb:{xs:0,xsm:0}},children:t})}),(0,x.jsxs)(o.Z,{sx:{display:"flex",alignItems:"flex-start",flexWrap:"wrap",mb:t?0:4},children:[r&&(0,x.jsx)(d.tF,{}),m&&f&&(0,x.jsx)(p.rU,{href:p.Z6.migrationTool,sx:{mt:{xs:2,xsm:0}},children:(0,x.jsx)(l.Z,{variant:"gradient",size:"small",children:(0,x.jsx)(n.cC,{id:"Migrate to V3"})})})]})]})}},74815:function(e,t,r){"use strict";r.d(t,{f:function(){return v}});var n=r(59499),i=r(49501),s=r(62097),o=r(61225),a=r(30120),l=r(29630),c=r(68346),u=r(36336),d=r(67294),p=r(19952),x=r(40535),f=r(46930),m=r(48618),b=r(85893);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v=function(e){var t=e.pageTitle,r=e.pageDesc,n=e.titleComponent,h=e.withMarketSwitcher,v=e.withMigrateButton,y=e.bridge,j=e.children,w=e.containerProps,Z=void 0===w?{}:w,O=(0,s.Z)(),C=(0,o.Z)(O.breakpoints.down("xsm")),P=(0,f.f)().currentMarketData,k=(0,m.i)();return(0,d.useEffect)((function(){(new window.Gradient).initGradient("#gradient-canvas")}),[]),(0,b.jsxs)(a.Z,{id:"top-info-panel",sx:{color:"#F1F1F3"},children:[(0,b.jsx)("canvas",{id:"gradient-canvas"}),1!==P.chainId&&(0,b.jsxs)(p.v,{severity:"info",icon:!1,sx:{px:{xs:6,md:8,borderRadius:0,background:"#EFE8FE",marginBottom:0}},children:[(0,b.jsx)(l.Z,{variant:"subheader1",children:(0,b.jsx)(i.cC,{id:"BTC markets are now open with 10x leverage \ud83d\udc68\u200d\ud83c\udf3e."})}),(0,b.jsx)(l.Z,{variant:"caption",children:(0,b.jsx)(i.cC,{id:"Supply your BTC LRTs and farm multiple protocol points at once or earn passive BTC yield. Check out the <0>BTC LRT Market</0>.",components:{0:(0,b.jsx)(c.Z,{href:"/?marketName=proto_mainnet_btc_v3"})}})})]}),(0,b.jsxs)(p.v,{severity:"info",icon:!1,sx:{px:{xs:6,md:8,borderRadius:0,color:"#eee",background:"rgba(255, 255, 255, 0.1)",marginBottom:0}},children:[(0,b.jsx)(l.Z,{variant:"subheader1",mb:1,children:(0,b.jsx)(i.cC,{id:"Farm Protocol Revenue in ETH and future Airdrops \ud83d\ude80"})}),(0,b.jsxs)(l.Z,{variant:"caption",children:["Stake your ZERO/ETH LP tokens and earn up to ",k?(100*k).toFixed(2):"-","% in ETH plus farm future potential airdrops. Stake or Zap into LP tokens"," ",(0,b.jsx)(c.Z,{href:"/stake",style:{color:"#fff"},children:"here"}),"."]})]}),(0,b.jsx)(a.Z,{sx:{pt:{xs:6,md:8},pb:{xs:18,md:20,lg:"94px",xl:"80px",xxl:"80px"},color:"#F1F1F3"},children:(0,b.jsx)(u.Z,g(g({},Z),{},{sx:g(g({},Z.sx),{},{pb:0}),children:(0,b.jsxs)(a.Z,{sx:{px:{xs:4,xsm:6}},children:[!n&&(0,b.jsx)(x.V,{pageTitle:t,withMarketSwitcher:h,withMigrateButton:v,bridge:y}),n&&n,r&&(0,b.jsx)(l.Z,{variant:"main14",sx:{color:"text.muted",mt:2,mr:{xs:5,xsm:3},maxWidth:750,mb:r?4:0},style:C?{marginTop:"0px"}:{marginTop:"-12px"},children:r}),(0,b.jsx)(a.Z,{sx:{display:"flex",alignItems:"flex-start",gap:{xs:3,xsm:8},flexWrap:"wrap",width:"100%"},children:j})]})}))})]})}},4071:function(e,t,r){"use strict";r.d(t,{r6:function(){return n},AI:function(){return i},xj:function(){return l}});var n={ASSET:110,BUTTONS:160,CELL:110},i=function(e,t,r,n,i){return e?s(t,r,n,i||!1):o(t,r,n,i||!1)},s=function(e,t,r,n){return"symbol"===e?a(!0,t,r):"usageAsCollateralEnabledOnUser"===e||"debt"===e?r.sort((function(t,r){return Number(t[e])-Number(r[e])})):(n&&r.sort((function(e,t){return"Variable"===e.borrowRateMode?Number(t.reserve.variableBorrowAPY)-Number(e.reserve.variableBorrowAPY):Number(t.reserve.stableBorrowAPY)-Number(e.reserve.stableBorrowAPY)})),r.sort((function(t,r){return t[e]-r[e]})))},o=function(e,t,r,n){return"symbol"===e?a(!1,t,r):"usageAsCollateralEnabledOnUser"===e||"debt"===e?r.sort((function(t,r){return Number(r[e])-Number(t[e])})):(n&&r.sort((function(e,t){return"Variable"===e.borrowRateMode?Number(e.reserve.variableBorrowAPY)-Number(t.reserve.variableBorrowAPY):Number(e.reserve.stableBorrowAPY)-Number(t.reserve.stableBorrowAPY)})),r.sort((function(t,r){return r[e]-t[e]})))},a=function(e,t,r){return e?"position"===t?r.sort((function(e,t){return e.reserve.symbol.toUpperCase()<t.reserve.symbol.toUpperCase()?-1:1})):r.sort((function(e,t){return e.symbol.toUpperCase()<t.symbol.toUpperCase()?-1:1})):"position"===t?r.sort((function(e,t){return t.reserve.symbol.toUpperCase()<e.reserve.symbol.toUpperCase()?-1:1})):r.sort((function(e,t){return t.symbol.toUpperCase()<e.symbol.toUpperCase()?-1:1}))};function l(e,t,r){if(r>=e.length)for(var n=r-e.length+1;n--;)e.push(void 0);return e.splice(r,0,e.splice(t,1)[0]),e}},87431:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/strategy",function(){return r(99705)}])}},function(e){e.O(0,[774,888,179],(function(){return t=87431,e(e.s=t);var t}));var t=e.O();_N_E=t}]);