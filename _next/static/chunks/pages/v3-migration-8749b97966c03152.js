(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[562],{96471:function(e,t,n){"use strict";var r=n(64836);t.Z=void 0;var i=r(n(64938)),o=n(85893),s=(0,i.default)((0,o.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBackOutlined");t.Z=s},21386:function(e,t,n){"use strict";var r=n(64836);t.Z=void 0;var i=r(n(64938)),o=n(85893),s=(0,i.default)((0,o.jsx)("path",{d:"M9 16.17 5.53 12.7a.9959.9959 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71c.39-.39.39-1.02 0-1.41a.9959.9959 0 0 0-1.41 0L9 16.17z"}),"CheckRounded");t.Z=s},24756:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Ae}});var r,i=n(49501),o=n(62097),s=n(61225),l=n(61953),a=n(44373),c=n(67294),d=n(45745),x=n(15446),u=n(99528),p=n(34220),h=n(43478),v=n(90452),m=n(98988),j=n(77537),f=n(26079),g=n(1279),b=n(58771),y=n(70918),Z=n(22841),w=n(75158),C=n(29630),k=n(75084),S=n(81645),O=n(25563),A=n(92391),I=n(19952),E=n(18384),P=n(8195),T=n(46930),D=n(80227),z=n(91655),B=n(96875),R=n(85893),M=function(e){var t=e.caption,n=e.hfCurrent,r=e.hfAfter,o=e.loading;return(0,R.jsx)(A.X,{caption:t,sx:{mb:{xs:3,lg:4},"&:last-of-type":{mb:0}},captionVariant:"description",children:(0,R.jsxs)(l.Z,{sx:{textAlign:"right"},children:[(0,R.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[o?(0,R.jsx)(z.Z,{width:50}):(0,R.jsx)(B.o,{value:n}),(0,R.jsx)(S.Z,{sx:{fontSize:"16px",color:"text.primary",mx:1},children:(0,R.jsx)(D.Z,{})}),o?(0,R.jsx)(z.Z,{width:50}):(0,R.jsx)(B.o,{value:r})]}),(0,R.jsxs)(C.Z,{variant:"helperText",color:"text.secondary",children:[(0,R.jsx)(i.cC,{id:"Liquidation at"})," <1.0"]})]})})};!function(e){e[e.NO_SELECTION=0]="NO_SELECTION",e[e.V2_HF_TOO_LOW=1]="V2_HF_TOO_LOW",e[e.V3_HF_TOO_LOW=2]="V3_HF_TOO_LOW",e[e.INSUFFICIENT_LTV=3]="INSUFFICIENT_LTV"}(r||(r={}));var N=function(e){var t=e.hfV2Current,n=e.hfV2AfterChange,a=e.hfV3Current,d=e.v3SummaryAfterMigration,x=e.disableButton,u=e.enteringIsolationMode,p=e.loading,h=(0,o.Z)().breakpoints,v=(0,s.Z)(h.down("sm")),m=(0,T.f)().currentMarket,j=(0,O.hu)(m).market,f=(0,P.vR)().openV3Migration,D=(0,c.useState)(!1),z=D[0],B=D[1],N=d.healthFactor,_=d.totalCollateralMarketReferenceCurrency,V=d.totalBorrowsMarketReferenceCurrency,L=d.currentLoanToValue,F=(0,g.hE)(_).multipliedBy(L),H=(0,g.hE)(V).isGreaterThan(F),W=void 0;x&&z?W=r.NO_SELECTION:Number(n)<1.005&&"-1"!==n?W=r.V2_HF_TOO_LOW:Number(N)<1.005&&"-1"!==N?W=r.V3_HF_TOO_LOW:H&&(W=r.INSUFFICIENT_LTV);var Y=function(){switch(W){case r.NO_SELECTION:return(0,R.jsx)(i.cC,{id:"No assets selected to migrate."});case r.V2_HF_TOO_LOW:return(0,R.jsx)(i.cC,{id:"This action will reduce V2 health factor below liquidation threshold. retain collateral or migrate borrow position to continue."});case r.V3_HF_TOO_LOW:return(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(i.cC,{id:"This action will reduce health factor of V3 below liquidation threshold. Increase migrated collateral or reduce migrated borrow to continue."})});case r.INSUFFICIENT_LTV:return(0,R.jsx)(i.cC,{id:"The loan to value of the migrated positions would cause liquidation. Increase migrated collateral or reduce migrated borrow to continue."});default:return(0,R.jsx)(R.Fragment,{})}};return(0,R.jsxs)(l.Z,{sx:{display:"flex",flexDirection:{xs:"column-reverse",md:"row"},alignItems:"flex-start",justifyContent:"space-between"},children:[(0,R.jsxs)(y.Z,{sx:{p:v?"20px 16px":"20px 30px",mb:{xs:6,md:0},width:{xs:"100%",md:"45%",lg:"35%"}},children:[(0,R.jsx)(A.X,{caption:(0,R.jsx)(i.cC,{id:"Review changes to continue"}),captionVariant:"h3",sx:{mb:6}}),(0,R.jsx)(M,{caption:(0,R.jsx)(i.cC,{id:"Health Factor ({0} v2)",values:{0:j.marketTitle}}),hfCurrent:t,hfAfter:n,loading:p}),(0,R.jsx)(M,{caption:(0,R.jsx)(i.cC,{id:"Health Factor ({0} v3)",values:{0:"Ethereum AMM"===j.marketTitle?"Ethereum":j.marketTitle}}),hfCurrent:a,hfAfter:N,loading:p}),void 0!==W&&(0,R.jsx)(I.v,{severity:"warning",children:(0,R.jsx)(Y,{})}),u&&(0,R.jsx)(E.i,{severity:"warning"}),void 0===W&&(0,R.jsx)(l.Z,{sx:{height:"44px",backgroundColor:"background.surface",borderRadius:"4px",display:"flex",justifyContent:"center",mb:4},"data-cy":"migration-risk-checkbox",children:(0,R.jsx)(Z.Z,{sx:{margin:0},control:(0,R.jsx)(w.Z,{checked:z,onChange:function(){return B(!z)},size:"small"}),label:(0,R.jsx)(C.Z,{variant:"description",sx:{position:"relative",top:1},children:(0,R.jsx)(i.cC,{id:"I fully understand the risks of migrating."})})})}),(0,R.jsx)(l.Z,{children:(0,R.jsx)(k.Z,{onClick:f,disabled:!z||void 0!==W,sx:{width:"100%",height:"44px"},variant:z&&void 0===W?"gradient":"contained",size:"medium","data-cy":"migration-button",children:(0,R.jsx)(i.cC,{id:"Preview tx and migrate"})})})]}),(0,R.jsxs)(l.Z,{sx:{width:{xs:"100%",md:"50%",lg:"60%"},p:v?"20px 16px":"20px 30px",mt:v?4:0},children:[(0,R.jsxs)(C.Z,{variant:"h3",sx:{fontWeight:700,mb:{xs:4,lg:6},display:"flex",alignItems:"center"},children:[(0,R.jsx)(S.Z,{sx:{fontSize:"24px",color:"warning.main",mr:2},children:(0,R.jsx)(b.Z,{})}),(0,R.jsx)(i.cC,{id:"Migration risks"})]}),(0,R.jsx)(C.Z,{sx:{mb:{xs:3,lg:4}},children:(0,R.jsx)(i.cC,{id:"Please always be aware of your <0>Health Factor (HF)</0> when partially migrating a position and that your rates will be updated to V3 rates.",components:{0:(0,R.jsx)("b",{})}})}),(0,R.jsx)(C.Z,{sx:{mb:{xs:3,lg:4}},children:(0,R.jsx)(i.cC,{id:"Migrating multiple collaterals and borrowed assets at the same time can be an expensive operation and might fail in certain situations.<0>Therefore it\u2019s not recommended to migrate positions with more than 5 assets (deposited + borrowed) at the same time.</0>",components:{0:(0,R.jsx)("b",{})}})}),(0,R.jsx)(C.Z,{sx:{mb:{xs:4,lg:6}},children:(0,R.jsx)(i.cC,{id:"Be mindful of the network congestion and gas prices."})})]})]})},_=n(75331),V=n(13902),L=n(58057),F=n(21386),H=n(80059),W=n(59499),Y=n(67728),U=n(68861),q=n(58527),J=function(e){var t,n=e.dashboardLink,r=e.marketName,o=e.warningType,s=e.isolatedV3,l=(t={},(0,W.Z)(t,Y.b_.EModeBorrowDisabled,(0,R.jsx)(i.cC,{id:"Asset cannot be migrated to {marketName} V3 Market due to E-mode restrictions. You can disable or manage E-mode categories in your <0>V3 Dashboard</0>",values:{marketName:r},components:{0:(0,R.jsx)(U.rU,{href:n||"",target:"_blank",underline:"always"})}})),(0,W.Z)(t,Y.b_.AssetNotFlashloanable,(0,R.jsx)(i.cC,{id:"Flashloan is disabled for this asset, hence this position cannot be migrated."})),(0,W.Z)(t,Y.b_.InsufficientLiquidity,(0,R.jsx)(i.cC,{id:"Asset cannot be migrated due to insufficient liquidity or borrow cap limitation in {marketName} v3 market.",values:{marketName:r}})),(0,W.Z)(t,Y.b_.NotEnoughtSupplies,(0,R.jsx)(i.cC,{id:"Asset cannot be migrated due to supply cap restriction in {marketName} v3 market.",values:{marketName:r}})),(0,W.Z)(t,Y.b_.ReserveFrozen,(0,R.jsx)(i.cC,{id:"Asset is frozen in {marketName} v3 market, hence this position cannot be migrated.",values:{marketName:r}})),(0,W.Z)(t,Y.b_.IsolationModeBorrowDisabled,s?(0,R.jsx)(i.cC,{id:"Asset cannot be migrated because you have isolated collateral in {marketName} v3 Market which limits borrowable assets. You can manage your collateral in <0>{marketName} V3 Dashboard</0>",values:{marketName:r},components:{0:(0,R.jsx)(U.rU,{href:n||"",target:"_blank",underline:"always"})}}):(0,R.jsx)(i.cC,{id:"Asset cannot be migrated to {marketName} v3 Market since collateral asset will enable isolation mode.",values:{marketName:r}})),(0,W.Z)(t,Y.b_.V3AssetMissing,(0,R.jsx)(i.cC,{id:"Underlying asset does not exist in {marketName} v3 Market, hence this position cannot be migrated.",values:{marketName:r}})),t);return(0,R.jsx)(q.G,{iconSize:16,color:"error.main",icon:(0,R.jsx)(b.Z,{}),children:(0,R.jsx)(C.Z,{variant:"caption",color:"text.secondary",children:l[o]})})},K=n(44749),G=n(45884),X=n(32383),$=n(41024),Q=n(14463),ee=n(2180),te=n(2031),ne=n(54181),re=function(e){var t=e.enableAsCollateral,n=e.enabledAsCollateral;return(0,R.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[(0,R.jsx)(ne.Z,{onClick:t,disableRipple:!0,checked:n,sx:{mb:-1.5}}),(0,R.jsx)(K.Ch,{})]})},ie=function(e){var t=e.v2Amount,n=e.v2Price,r=e.v3Price,o=(0,c.useMemo)((function(){return function(e,t,n){if(!n)return{v3Amount:void 0,v3TotalPrice:void 0};var r=(0,g.hE)(t).div(n).multipliedBy(e),i=r.multipliedBy(n);return{v3Amount:r.toString(),v3TotalPrice:i.toString()}}(t,n,r)}),[t,n,r]),s=o.v3Amount,l=o.v3TotalPrice;return(0,R.jsx)(I.v,{icon:!1,sx:{mb:4},severity:"error",children:(0,R.jsxs)(C.Z,{variant:"caption",component:"span",children:[(0,R.jsx)(i.cC,{id:"stETH tokens will be migrated to Wrapped stETH using Lido Protocol wrapper which leads to supply balance change after migration: {0}",values:{0:s?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)($.B,{variant:"caption",value:s})," (",(0,R.jsx)($.B,{variant:"caption",value:l,symbol:"USD",symbolsColor:"error.100"}),")."]}):(0,R.jsx)(Q.J,{variant:"caption",component:"span"})}})," "]})})},oe=function(e){var t=e.checked,n=e.amount,r=e.amountInUSD,s=e.onCheckboxClick,a=e.enabledAsCollateral,c=e.disabled,d=e.enableAsCollateral,x=e.isIsolated,u=e.enteringIsolation,p=e.borrowApyType,h=e.userReserve,v=e.v3Rates,m=e.showCollateralToggle,j=e.isSupplyList,f=p?p===_.tk.Stable?h.stableBorrowAPY:h.reserve.variableBorrowAPY:h.reserve.supplyAPY,g=p?p===_.tk.Stable?h.reserve.sIncentivesData:h.reserve.vIncentivesData:h.reserve.aIncentivesData,b=p?(null===v||void 0===v?void 0:v.variableBorrowAPY)||"-1":(null===v||void 0===v?void 0:v.supplyAPY)||"-1",y=p?(null===v||void 0===v?void 0:v.vIncentivesData)||[]:(null===v||void 0===v?void 0:v.aIncentivesData)||[],Z=(0,te.Yh)(),w=Z.currentMarket,O=Z.currentMarketData,I=(0,o.Z)(),E=void 0===c?"text.secondary":"text.muted",P=void 0===c?"text.primary":"text.muted",T=void 0===(null===v||void 0===v?void 0:v.ltv)&&void 0===(null===v||void 0===v?void 0:v.liquidationThreshold);return(0,R.jsxs)(X.H,{sx:{display:"flex",flexDirection:"column",pl:0},children:[(0,R.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",width:"100%",pb:2,pt:2.5},children:[(0,R.jsx)(G.h,{align:"center",maxWidth:48,minWidth:48,children:(0,R.jsx)(l.Z,{sx:function(e){return{border:"2px solid ".concat(void 0!==c?e.palette.action.disabled:e.palette.text.secondary),background:void 0!==c?e.palette.background.disabled:t?e.palette.text.secondary:e.palette.background.paper,width:16,height:16,borderRadius:"2px","&:hover":{cursor:void 0!==c?"not-allowed":"pointer"},display:"flex",alignItems:"center",justifyContent:"center"}},onClick:void 0!==c?void 0:s,children:void 0===c&&(0,R.jsx)(S.Z,{sx:{fontSize:"14px",color:"background.paper"},children:(0,R.jsx)(L.Z,{})})})}),(0,R.jsx)(G.h,{align:"left",children:(0,R.jsxs)(A.X,{children:[(0,R.jsx)(ee.T1,{symbol:h.reserve.iconSymbol,fontSize:"large"}),(0,R.jsxs)(l.Z,{sx:{pl:"12px",overflow:"hidden",display:"flex"},children:[(0,R.jsx)(C.Z,{variant:"subheader1",color:P,noWrap:!0,sx:{pr:1},children:h.reserve.symbol}),void 0!==c&&(0,R.jsx)(J,{dashboardLink:U.Z6.dashboard+"/?marketName="+w+"_v3",marketName:O.marketTitle,warningType:c,isolatedV3:u})]})]})})]}),(0,R.jsxs)(l.Z,{sx:{width:"100%",display:"flex",flexDirection:"column",gap:2,pb:4,pl:12},children:[(0,R.jsxs)(l.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,R.jsx)(C.Z,{variant:"description",color:E,children:(0,R.jsx)(i.cC,{id:"Current v2 Balance"})}),(0,R.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[(0,R.jsx)(l.Z,{sx:{display:"flex",alignItems:"flex-end",mb:.5},children:(0,R.jsx)($.B,{value:n,variant:"secondary14",color:P})}),(0,R.jsx)($.B,{value:r,variant:"secondary12",color:E,symbolsColor:E,symbol:"USD"})]})]}),(0,R.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,R.jsx)(C.Z,{variant:"description",color:E,children:(0,R.jsx)(i.cC,{id:"APY change"})}),(0,R.jsxs)(l.Z,{sx:{display:"flex"},children:[(0,R.jsx)(H.J,{value:f,symbol:h.reserve.symbol,incentives:g,variant:"main14",color:P}),(0,R.jsx)(S.Z,{sx:{px:1.5},children:(0,R.jsx)(D.Z,{fontSize:"14px",color:void 0===c?I.palette.text.secondary:I.palette.text.muted})}),(0,R.jsx)(H.J,{value:b,symbol:h.reserve.symbol,incentives:y,variant:"main14",color:P})]})]}),!!d&&(0,R.jsxs)(l.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,R.jsx)(C.Z,{variant:"description",color:E,children:(0,R.jsx)(i.cC,{id:"Collateral change"})}),(0,R.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center"},children:[h.usageAsCollateralEnabledOnUser&&"0"!==h.reserve.reserveLiquidationThreshold?(0,R.jsx)(F.Z,{fontSize:"small",color:"success"}):(0,R.jsx)(Q.J,{variant:"main14",color:E}),(0,R.jsx)(S.Z,{sx:{px:1.5},children:(0,R.jsx)(D.Z,{fontSize:"14px",color:void 0===c?I.palette.text.secondary:I.palette.text.muted})}),m?(0,R.jsx)(re,{enableAsCollateral:d,enabledAsCollateral:a}):a?x?(0,R.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,R.jsx)(S.Z,{sx:{color:"warning.main",fontSize:"20px"},children:(0,R.jsx)(V.Z,{})}),(0,R.jsx)(K.Ch,{})]}):(0,R.jsx)(F.Z,{fontSize:"small",color:"success"}):(0,R.jsx)(Q.J,{variant:"main14",color:E})]})]}),!!p&&(0,R.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,R.jsx)(C.Z,{variant:"description",color:E,children:(0,R.jsx)(i.cC,{id:"APY type change"})}),(0,R.jsxs)(l.Z,{sx:{display:"flex"},children:[(0,R.jsx)(k.Z,{variant:"outlined",size:"small",sx:{width:"50px",background:"white"},disabled:!0,children:(0,R.jsx)(C.Z,{variant:"buttonS",color:P,children:p})}),(0,R.jsx)(S.Z,{sx:{px:1.5},children:(0,R.jsx)(D.Z,{fontSize:"14px",color:void 0===c?I.palette.text.secondary:I.palette.text.muted})}),(0,R.jsx)(k.Z,{variant:"outlined",size:"small",sx:{width:"50px",background:"white"},disabled:!0,children:(0,R.jsx)(C.Z,{variant:"buttonS",color:P,children:"Variable"})})]})]}),j&&(0,R.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,R.jsx)(C.Z,{variant:"description",color:E,children:(0,R.jsx)(i.cC,{id:"Max LTV"})}),(0,R.jsx)(l.Z,{sx:{display:"flex"},children:T?(0,R.jsx)(Q.J,{variant:"main14",color:"text.secondary"}):(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)($.B,{value:h.reserve.formattedBaseLTVasCollateral,percent:!0,variant:"main14",color:P}),(0,R.jsx)(S.Z,{sx:{px:1.5},children:(0,R.jsx)(D.Z,{fontSize:"14px",color:void 0===c?I.palette.text.secondary:I.palette.text.muted})}),(0,R.jsx)($.B,{value:(null===v||void 0===v?void 0:v.ltv)||0,percent:!0,variant:"main14",color:P})]})})]}),!j&&(0,R.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,R.jsx)(C.Z,{variant:"description",color:E,children:(0,R.jsx)(i.cC,{id:"Liquidation threshold"})}),(0,R.jsx)(l.Z,{sx:{display:"flex"},children:T?(0,R.jsx)(Q.J,{variant:"main14",color:"text.secondary"}):(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)($.B,{value:h.reserve.formattedReserveLiquidationThreshold,percent:!0,variant:"main14",color:P}),(0,R.jsx)(S.Z,{sx:{px:1.5},children:(0,R.jsx)(D.Z,{fontSize:"14px",color:void 0===c?I.palette.text.secondary:I.palette.text.muted})}),(0,R.jsx)($.B,{value:(null===v||void 0===v?void 0:v.liquidationThreshold)||0,percent:!0,variant:"main14",color:P})]})})]})]}),"stETH"===h.reserve.symbol&&(0,R.jsx)(l.Z,{sx:{pl:"16px",width:"100%"},children:(0,R.jsx)(ie,{v2Price:h.reserve.priceInUSD,v2Amount:n,v3Price:null===v||void 0===v?void 0:v.priceInUSD})})]})},se=function(e){var t,n=e.checked,r=e.amount,i=e.amountInUSD,a=e.onCheckboxClick,c=e.enabledAsCollateral,d=e.disabled,x=e.enableAsCollateral,u=e.isIsolated,p=e.enteringIsolation,h=e.borrowApyType,v=e.userReserve,m=e.v3Rates,j=e.userControlledCollateral,f=e.canBeEnforced,g=e.isSupplyList,b=(0,o.Z)(),y=(0,te.Yh)(),Z=y.currentMarket,w=y.currentMarketData,O=(0,s.Z)(b.breakpoints.down(1125)),A=void 0===d?"text.primary":"text.muted",I=void 0===d?"text.secondary":"text.muted",E=void 0===(null===m||void 0===m?void 0:m.ltv)&&void 0===(null===m||void 0===m?void 0:m.liquidationThreshold),P=h?h===_.tk.Stable?v.stableBorrowAPY:v.reserve.variableBorrowAPY:v.reserve.supplyAPY,T=h?h===_.tk.Stable?v.reserve.sIncentivesData:v.reserve.vIncentivesData:v.reserve.aIncentivesData,z=h?(null===m||void 0===m?void 0:m.variableBorrowAPY)||"-1":(null===m||void 0===m?void 0:m.supplyAPY)||"-1",B=h?(null===m||void 0===m?void 0:m.vIncentivesData)||[]:(null===m||void 0===m?void 0:m.aIncentivesData)||[],M=j&&u&&f;return O?(0,R.jsx)(oe,{checked:n,amount:r,amountInUSD:i,onCheckboxClick:a,enabledAsCollateral:c,disabled:d,enableAsCollateral:x,isIsolated:u,enteringIsolation:p,borrowApyType:h,userReserve:v,v3Rates:m,showCollateralToggle:M,isSupplyList:g}):(0,R.jsxs)(X.H,{sx:{flexDirection:"column",pl:0},"data-cy":"migration-".concat(void 0!==h?"borrow-"+h:"supply","-").concat(v.reserve.symbol),children:[(0,R.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"row",width:"100%",alignItems:"center",my:4},children:[(0,R.jsx)(G.h,{align:"center",maxWidth:64,minWidth:64,children:(0,R.jsx)(l.Z,{sx:function(e){return{border:"2px solid ".concat(void 0!==d?e.palette.action.disabled:e.palette.text.secondary),background:void 0!==d?e.palette.background.disabled:n?e.palette.text.secondary:e.palette.background.paper,width:16,height:16,borderRadius:"2px","&:hover":{cursor:void 0!==d?"not-allowed":"pointer"},display:"flex",alignItems:"center",justifyContent:"center"}},onClick:void 0!==d?void 0:a,"data-cy":"migration-checkbox",children:void 0===d&&(0,R.jsx)(S.Z,{sx:{fontSize:"14px",color:"background.paper"},children:(0,R.jsx)(L.Z,{})})})}),(0,R.jsxs)(G.h,{isRow:!0,maxWidth:250,minWidth:170,children:[(0,R.jsx)(ee.T1,{symbol:v.reserve.iconSymbol,fontSize:"large"}),(0,R.jsxs)(l.Z,{sx:{pl:"12px",overflow:"hidden",display:"flex"},children:[(0,R.jsx)(C.Z,{variant:"subheader1",color:A,noWrap:!0,sx:{pr:1},children:v.reserve.symbol}),void 0!==d&&(0,R.jsx)(J,{dashboardLink:U.Z6.dashboard+"/?marketName="+Z+"_v3",marketName:w.marketTitle,warningType:d,isolatedV3:!p})]})]}),(0,R.jsx)(G.h,{children:(0,R.jsxs)(l.Z,{sx:{display:"flex"},children:[(0,R.jsx)(H.J,{value:P,symbol:v.reserve.symbol,incentives:T,variant:"main14",color:A}),(0,R.jsx)(S.Z,{sx:{px:1.5},children:(0,R.jsx)(D.Z,{fontSize:"14px",color:void 0===d?b.palette.text.primary:b.palette.text.muted})}),(0,R.jsx)(H.J,{value:z,symbol:v.reserve.symbol,incentives:B,variant:"main14",color:A})]})}),!!x&&(0,R.jsx)(G.h,{children:(0,R.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center"},children:[v.usageAsCollateralEnabledOnUser&&"0"!==v.reserve.reserveLiquidationThreshold?(0,R.jsx)(F.Z,{fontSize:"small",color:"success"}):(0,R.jsx)(Q.J,{variant:"main14",color:I}),(0,R.jsx)(S.Z,{sx:{px:1.5},children:(0,R.jsx)(D.Z,{fontSize:"14px",color:void 0===d?b.palette.text.primary:b.palette.text.muted})}),M?(0,R.jsx)(re,{enableAsCollateral:x,enabledAsCollateral:c}):c?u?(0,R.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,R.jsx)(S.Z,{sx:{color:"warning.main",fontSize:"20px"},children:(0,R.jsx)(V.Z,{})}),(0,R.jsx)(K.Ch,{})]}):(0,R.jsx)(F.Z,{fontSize:"small",color:"success"}):(0,R.jsx)(Q.J,{variant:"main14",color:I})]})}),g&&(E?(0,R.jsx)(G.h,{children:(0,R.jsx)(Q.J,{variant:"main14",color:"text.secondary"})}):(0,R.jsx)(G.h,{children:(0,R.jsxs)(l.Z,{sx:{display:"flex"},children:[(0,R.jsx)($.B,{value:v.reserve.formattedBaseLTVasCollateral,percent:!0,variant:"secondary14",color:A}),(0,R.jsx)(S.Z,{sx:{px:1.5},children:(0,R.jsx)(D.Z,{fontSize:"14px",color:void 0===d?b.palette.text.primary:b.palette.text.muted})}),(0,R.jsx)($.B,{value:(null===m||void 0===m?void 0:m.ltv)||0,percent:!0,variant:"secondary14",color:A})]})})),!!h&&(0,R.jsx)(G.h,{children:(0,R.jsxs)(l.Z,{sx:{display:"flex"},children:[(0,R.jsx)(k.Z,{variant:"outlined",size:"small",sx:{width:"50px",background:"white"},disabled:!0,children:(0,R.jsx)(C.Z,{variant:"buttonS",color:A,children:h})}),(0,R.jsx)(S.Z,{sx:{px:1.5},children:(0,R.jsx)(D.Z,{fontSize:"14px",color:void 0===d?b.palette.text.primary:b.palette.text.muted})}),(0,R.jsx)(k.Z,{variant:"outlined",size:"small",sx:{width:"50px",background:"white"},disabled:!0,children:(0,R.jsx)(C.Z,{variant:"buttonS",color:A,children:"Variable"})})]})}),!g&&(E?(0,R.jsx)(G.h,{children:(0,R.jsx)(Q.J,{variant:"main14",color:"text.secondary"})}):(0,R.jsx)(G.h,{children:(0,R.jsxs)(l.Z,{sx:{display:"flex"},children:[(0,R.jsx)($.B,{value:v.reserve.formattedReserveLiquidationThreshold,percent:!0,variant:"secondary14",color:A}),(0,R.jsx)(S.Z,{sx:{px:1.5},children:(0,R.jsx)(D.Z,{fontSize:"14px",color:void 0===d?b.palette.text.primary:b.palette.text.muted})}),(0,R.jsx)($.B,{value:null!==(t=null===m||void 0===m?void 0:m.liquidationThreshold)&&void 0!==t?t:-1,percent:!0,variant:"secondary14",color:A})]})})),(0,R.jsxs)(G.h,{children:[(0,R.jsx)($.B,{value:r,variant:"secondary14",color:A}),(0,R.jsx)($.B,{value:i,variant:"secondary12",color:A,symbol:"USD",symbolsColor:A})]})]}),"stETH"===v.reserve.symbol&&(0,R.jsx)(l.Z,{sx:{pl:"16px",width:"100%"},children:(0,R.jsx)(ie,{v2Price:v.reserve.priceInUSD,v2Amount:r,v3Price:null===m||void 0===m?void 0:m.priceInUSD})})]})},le=function(e){var t=e.selectedBorrowAssets,n=e.userReserve,r=e.toggleSelectedBorrowPosition,i=e.v3Rates,o=e.enteringIsolation,s=(0,c.useMemo)((function(){return!n.migrationDisabled&&t.findIndex((function(e){return n.interestRate==_.tk.Stable?e.debtKey==n.reserve.stableDebtTokenAddress:e.debtKey==n.reserve.variableDebtTokenAddress}))>=0}),[t]),l=n.interestRate==_.tk.Stable?n.stableBorrows:n.variableBorrows,a=n.interestRate==_.tk.Stable?n.stableBorrowsUSD:n.variableBorrowsUSD;return(0,R.jsx)(se,{checked:s,userReserve:n,amount:l,amountInUSD:a,onCheckboxClick:function(){r(n)},disabled:n.migrationDisabled,enabledAsCollateral:n.usageAsCollateralEnabledOnUser,borrowApyType:n.interestRate,v3Rates:i,enteringIsolation:o,isSupplyList:!1},n.debtKey)},ae=function(){var e=(0,o.Z)();return(0,s.Z)(e.breakpoints.down(1125))?(0,R.jsx)(ce,{}):(0,R.jsxs)(X.H,{sx:{pl:0},children:[(0,R.jsx)(G.h,{align:"center",maxWidth:64,minWidth:64,children:(0,R.jsx)(z.Z,{width:16,height:16})}),(0,R.jsx)(G.h,{align:"left",isRow:!0,maxWidth:250,minWidth:170,children:(0,R.jsxs)(l.Z,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,R.jsx)(z.Z,{variant:"circular",width:32,height:32}),(0,R.jsx)(z.Z,{sx:{ml:3},width:39,height:20})]})}),(0,R.jsx)(G.h,{children:(0,R.jsx)(z.Z,{width:120,height:25})}),(0,R.jsx)(G.h,{children:(0,R.jsx)(z.Z,{width:120,height:25})}),(0,R.jsx)(G.h,{children:(0,R.jsx)(z.Z,{width:120,height:25})}),(0,R.jsxs)(G.h,{children:[(0,R.jsx)(z.Z,{width:70,height:16,sx:{mb:1}}),(0,R.jsx)(z.Z,{width:50,height:14})]})]})},ce=function(){return(0,R.jsxs)(X.H,{sx:{display:"flex",flexDirection:"column",pl:0},children:[(0,R.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",width:"100%",pb:2,pt:2.5},children:[(0,R.jsx)(G.h,{align:"center",maxWidth:48,minWidth:48,children:(0,R.jsx)(z.Z,{width:16,height:16})}),(0,R.jsx)(G.h,{align:"left",children:(0,R.jsxs)(l.Z,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,R.jsx)(z.Z,{variant:"circular",width:32,height:32}),(0,R.jsx)(z.Z,{sx:{ml:3},width:39,height:20})]})})]}),(0,R.jsxs)(l.Z,{sx:{width:"100%",display:"flex",flexDirection:"column",gap:2,pb:4,pl:12},children:[(0,R.jsxs)(l.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,R.jsx)(z.Z,{width:130,height:16}),(0,R.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:1},children:[(0,R.jsx)(z.Z,{width:50,height:16}),(0,R.jsx)(z.Z,{width:30,height:14})]})]}),(0,R.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,R.jsx)(z.Z,{width:80,height:16}),(0,R.jsx)(z.Z,{width:115,height:16})]}),(0,R.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,R.jsx)(z.Z,{width:115,height:16}),(0,R.jsx)(z.Z,{width:150,height:16})]}),(0,R.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,R.jsx)(z.Z,{width:140,height:16}),(0,R.jsx)(z.Z,{width:115,height:16})]})]})]})},de=n(99435),xe=n(1475),ue=n(45556);var pe=c.forwardRef((function(e,t){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),c.createElement("path",{fillRule:"evenodd",d:"M5 10a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1z",clipRule:"evenodd"}))}));function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){(0,W.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var me=function(e){var t=e.numSelected,n=e.allSelected,r=e.onSelectAllClick,i=e.disabled,s=(0,o.Z)(),a={border:"2px solid ".concat(s.palette.text.secondary),background:s.palette.text.secondary,width:16,height:16,borderRadius:"2px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"};return i?(0,R.jsx)(de.M,{children:(0,R.jsx)(C.Z,{variant:"main12",sx:{fontWeight:700},children:(0,R.jsx)(l.Z,{sx:ve(ve({},a),{},{background:s.palette.action.disabledBackground,border:"2px solid ".concat(s.palette.action.disabled),"&:hover":{cursor:"not-allowed"}})})})}):(0,R.jsx)(de.M,{onClick:r,children:(0,R.jsx)(C.Z,{variant:"main12",sx:{fontWeight:700},children:n?(0,R.jsx)(l.Z,{sx:a,"data-cy":"migration-checkbox-all",children:(0,R.jsx)(S.Z,{sx:{fontSize:"14px",color:"background.paper"},children:(0,R.jsx)(L.Z,{})})}):0!==t?(0,R.jsx)(l.Z,{sx:a,"data-cy":"migration-checkbox-all",children:(0,R.jsx)(S.Z,{sx:{fontSize:"16px",color:"background.paper"},children:(0,R.jsx)(pe,{})})}):(0,R.jsx)(l.Z,{sx:ve(ve({},a),{},{background:"white"}),"data-cy":"migration-checkbox-all"})})})},je=function(e){var t=e.titleComponent,n=e.children,r=e.onSelectAllClick,o=e.loading,s=e.isAvailable,a=e.allSelected,c=e.numSelected,d=e.numAvailable,x=e.disabled;return(0,R.jsx)(l.Z,{sx:{width:"100%"},children:(0,R.jsxs)(ue.l,{titleComponent:(0,R.jsx)(C.Z,{component:"div",variant:"h3",sx:{mr:4},children:t}),children:[(s||o)&&(0,R.jsxs)(xe.u,{sx:{pl:0},children:[(0,R.jsx)(G.h,{align:"center",maxWidth:48,minWidth:48,children:(0,R.jsx)(me,{allSelected:a,numSelected:c,onSelectAllClick:r,disabled:x})}),(0,R.jsx)(l.Z,{sx:{height:22,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,R.jsx)(C.Z,{variant:"subheader2",color:"text.secondary",children:(0,R.jsx)(i.cC,{id:"{numSelected}/{numAvailable} assets selected",values:{numSelected:c,numAvailable:d}})})})]}),n]})})},fe=[{title:(0,R.jsx)(i.cC,{id:"APY change"})},{title:(0,R.jsx)(i.cC,{id:"Collateral change"})},{title:(0,R.jsx)(i.cC,{id:"Max LTV"})},{title:(0,R.jsx)(i.cC,{id:"Current v2 balance"})}],ge=[{title:(0,R.jsx)(i.cC,{id:"APY change"})},{title:(0,R.jsx)(i.cC,{id:"APY type change"})},{title:(0,R.jsx)(i.cC,{id:"Liquidation Threshold"})},{title:(0,R.jsx)(i.cC,{id:"Current v2 balance"})}],be=function(e){var t=e.titleComponent,n=e.children,r=e.onSelectAllClick,a=e.loading,c=e.isAvailable,d=e.withCollateral,x=e.withBorrow,u=e.allSelected,p=e.numSelected,h=e.numAvailable,v=e.disabled,m=e.isolatedReserveV3,j=(0,o.Z)(),f=(0,te.Yh)(),g=f.currentMarket,b=f.currentMarketData.marketTitle,y=U.Z6.dashboard+"/?marketName="+g+"_v3";return(0,s.Z)(j.breakpoints.down(1125))?(0,R.jsx)(je,{titleComponent:t,onSelectAllClick:r,loading:a,isAvailable:c,allSelected:u,numSelected:p,disabled:v,numAvailable:h,children:n}):(0,R.jsx)(l.Z,{sx:{width:"100%"},children:(0,R.jsxs)(ue.l,{titleComponent:(0,R.jsxs)(l.Z,{display:"block",children:[(0,R.jsx)(C.Z,{component:"div",variant:"h3",sx:{mr:4},children:t}),m&&!m.enteringIsolationMode&&(0,R.jsx)(l.Z,{sx:{pt:"16px"},children:(0,R.jsx)(I.v,{severity:"warning",icon:!1,sx:{mb:0},children:(0,R.jsx)(C.Z,{variant:"caption",color:j.palette.warning[100],children:(0,R.jsx)(i.cC,{id:"Some migrated assets will not be used as collateral due to enabled isolation mode in {marketName} V3 Market. Visit <0>{marketName} V3 Dashboard</0> to manage isolation mode.",values:{marketName:b},components:{0:(0,R.jsx)(U.rU,{href:y})}})})})})]}),children:[(c||a)&&(0,R.jsxs)(xe.u,{sx:{pl:0},children:[(0,R.jsx)(G.h,{align:"center",maxWidth:64,minWidth:64,children:(0,R.jsx)(me,{allSelected:u,numSelected:p,onSelectAllClick:r,disabled:v})}),(0,R.jsx)(G.h,{isRow:!0,maxWidth:250,minWidth:170,children:(0,R.jsx)(de.M,{children:(0,R.jsx)(i.cC,{id:"Assets"})})}),d&&fe.map((function(e,t){return(0,R.jsx)(G.h,{children:(0,R.jsx)(de.M,{children:e.title})},t)})),x&&ge.map((function(e,t){return(0,R.jsx)(G.h,{children:(0,R.jsx)(de.M,{children:e.title})},t)}))]}),n]})})},ye=function(e){var t=e.onSelectAllSupplies,n=e.onSelectAllBorrows,r=e.suppliesPositions,o=e.borrowsPositions,s=e.loading,a=e.isolatedReserveV3,d=e.isSupplyPositionsAvailable,x=e.isBorrowPositionsAvailable,u=e.emodeCategoryId,p=(0,te.Yh)(),h=p.selectedMigrationSupplyAssets,v=p.selectedMigrationBorrowAssets,m=(0,te.Yh)((0,c.useCallback)((function(e){return(0,Y.xk)(e,0)}),[])),j=m.supplyReserves,f=m.borrowReserves,g=void 0===j.find((function(e){return void 0===e.migrationDisabled})),b=void 0===f.find((function(e){return void 0===e.migrationDisabled})),y=(0,Y.FW)(j,h),Z=y.activeSelections,w=y.activeUnselected,C=(0,Y.FW)(f,v),k=C.activeSelections,S=C.activeUnselected;return(0,R.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,R.jsx)(be,{isolatedReserveV3:a,loading:s,onSelectAllClick:t,allSelected:0===w.length,isAvailable:d,titleComponent:(0,R.jsx)(i.cC,{id:"Select v2 supplies to migrate"}),emodeCategoryId:u,withCollateral:!0,disabled:g,numSelected:Z.length||0,numAvailable:j.length||0,children:r}),(0,R.jsx)(be,{loading:s,onSelectAllClick:n,allSelected:0===S.length,isAvailable:x,withBorrow:!0,disabled:b,titleComponent:(0,R.jsx)(i.cC,{id:"Select v2 borrows to migrate"}),numSelected:k.length||0,numAvailable:f.length||0,children:o})]})},Ze=n(96471),we=n(11163),Ce=n(40535),ke=n(74815),Se=function(){var e=(0,we.useRouter)(),t=(0,T.f)().currentMarket,n=(0,O.hu)(t),r=n.market,a=n.network,c=(0,O.St)(r.marketTitle),d=(0,o.Z)(),x=(0,s.Z)(d.breakpoints.down("sm"));return(0,R.jsx)(ke.f,{titleComponent:(0,R.jsxs)(l.Z,{children:[(0,R.jsx)(l.Z,{sx:{display:"flex",alignItems:x?"flex-start":"center",alignSelf:x?"flex-start":"center",mb:4,minHeight:"40px",flexDirection:x?"column":"row"},children:(0,R.jsx)(k.Z,{variant:"surface",size:"medium",color:"primary",startIcon:(0,R.jsx)(S.Z,{sx:{fontSize:"20px"},children:(0,R.jsx)(Ze.Z,{})}),onClick:function(){e.push(U.Z6.dashboard)},sx:{mr:3,mb:x?"24px":"0"},"data-cy":"goBack-btn",children:(0,R.jsx)(i.cC,{id:"Go Back"})})}),(0,R.jsx)(Ce.V,{pageTitle:(0,R.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,R.jsx)(O.gO,{size:32,logo:a.networkLogoPath,testChainName:c.testChainName}),(0,R.jsx)(i.cC,{id:"Migrate to {0} v3 Market",values:{0:"Ethereum AMM"===r.marketTitle?"Ethereum":r.marketTitle}})]})})]})})},Oe=n(83601);function Ae(){var e=(0,p.HT)().loading,t=(0,j.Z)(),n=t.currentAccount,r=t.loading,u=(0,v.T)().isPermissionsLoading,m=(0,o.Z)(),g=(0,s.Z)(m.breakpoints.down("sm")),b=(0,h.p)(10),y=(0,te.Yh)((0,c.useCallback)((function(e){return(0,Y.xk)(e,b)}),[b])),Z=y.supplyReserves,w=y.borrowReserves,C=y.healthFactor,k=y.isolatedReserveV3,S=(0,te.Yh)((function(e){return{v2UserSummaryAfterMigration:(0,Y.Zs)(e,b),v3UserSummaryBeforeMigration:(0,Y.ee)(e,b),poolReserveV3:(0,Oe.$)(e)}})),O=S.v3UserSummaryBeforeMigration,A=S.v2UserSummaryAfterMigration,I=S.poolReserveV3,E=(0,te.Yh)((0,c.useCallback)((function(e){return(0,Y.Cs)(e,b)}),[b])),P=(0,te.Yh)(),T=P.selectAllSupply,D=P.selectAllBorrow,z=P.toggleMigrationSelectedSupplyAsset,B=P.selectedMigrationSupplyAssets,M=P.toggleMigrationSelectedBorrowAsset,_=P.selectedMigrationBorrowAssets,V=P.resetMigrationSelectedAssets,L=P.enforceAsCollateral,F=P.getMigrationExceptionSupplyBalances;(0,c.useEffect)((function(){F&&Z.length>0&&F(Z)}),[F,Z]),(0,c.useEffect)((function(){V&&V()}),[V]),(0,te.Xh)();var H=Object.keys(B).length>1&&"0"==O.totalCollateralMarketReferenceCurrency;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(Se,{}),n&&!u?(0,R.jsxs)(x.O,{children:[(0,R.jsx)(ye,{loading:e,isSupplyPositionsAvailable:Z.length>0,isBorrowPositionsAvailable:w.length>0,onSelectAllSupplies:function(){T(b)},onSelectAllBorrows:function(){D(b)},emodeCategoryId:null===I||void 0===I?void 0:I.userEmodeCategoryId,isolatedReserveV3:k,suppliesPositions:(0,R.jsx)(R.Fragment,{children:e?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(ae,{}),(0,R.jsx)(ae,{})]}):Z.length>0?Z.map((function(e){return(0,R.jsx)(se,{checked:B.findIndex((function(t){return t.underlyingAsset==e.underlyingAsset}))>=0,enableAsCollateral:function(){return t=e.canBeEnforced,n=e.underlyingAsset,void(t&&L(n));var t,n},userControlledCollateral:H,canBeEnforced:"0"==O.totalCollateralMarketReferenceCurrency&&e.canBeEnforced,userReserve:e,amount:e.underlyingBalance,amountInUSD:e.underlyingBalanceUSD,onCheckboxClick:function(){z(e.underlyingAsset)},enabledAsCollateral:e.usageAsCollateralEnabledOnUserV3,isIsolated:e.isolatedOnV3,enteringIsolation:(null===k||void 0===k?void 0:k.enteringIsolationMode)||!1,v3Rates:e.v3Rates,disabled:e.migrationDisabled,isSupplyList:!0},e.underlyingAsset)})):(0,R.jsx)(l.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,R.jsx)(f.N,{text:(0,R.jsx)(i.cC,{id:"Nothing supplied yet"})})})}),borrowsPositions:(0,R.jsx)(R.Fragment,{children:e?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(ae,{}),(0,R.jsx)(ae,{})]}):w.length>0?w.map((function(e){return(0,R.jsx)(le,{userReserve:e,selectedBorrowAssets:_,toggleSelectedBorrowPosition:M,v3Rates:e.v3Rates,enteringIsolation:(null===k||void 0===k?void 0:k.enteringIsolationMode)||!1},e.debtKey)})):(0,R.jsx)(l.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,R.jsx)(f.N,{text:(0,R.jsx)(i.cC,{id:"Nothing borrowed yet"})})})})}),!g&&(0,R.jsx)(a.Z,{sx:{my:10}}),(0,R.jsx)(N,{hfV2Current:C,hfV2AfterChange:A.healthFactor,hfV3Current:O.healthFactor,v3SummaryAfterMigration:E,disableButton:!Object.keys(B).length&&!Object.keys(_).length,enteringIsolationMode:(null===k||void 0===k?void 0:k.enteringIsolationMode)||!1,loading:e})]}):(0,R.jsx)(d.w,{loading:r,description:(0,R.jsx)(i.cC,{id:"Please connect your wallet to see migration tool."})})]})}Ae.getLayout=function(e){return(0,R.jsxs)(m.Z,{children:[e,(0,R.jsx)(u.P,{})]})}},45745:function(e,t,n){"use strict";n.d(t,{w:function(){return h}});var r=n(59499),i=n(4730),o=n(49501),s=n(70918),l=n(90149),a=n(29630),c=n(3765),d=n(85893),x=["loading","description","sx"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e){var t=e.loading,n=e.description,r=e.sx,u=(0,i.Z)(e,x);return(0,d.jsx)(s.Z,p(p({},u),{},{sx:p({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",p:4,flex:1},r),children:(0,d.jsx)(d.Fragment,{children:t?(0,d.jsx)(l.Z,{}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(a.Z,{variant:"h2",sx:{mb:2},children:(0,d.jsx)(o.cC,{id:"Please, connect your wallet"})}),(0,d.jsx)(a.Z,{sx:{mb:6},color:"text.secondary",children:n||(0,d.jsx)(o.cC,{id:"Please connect your wallet to see your supplies, borrowings, and open positions."})}),(0,d.jsx)(c.p,{})]})})}))}},15446:function(e,t,n){"use strict";n.d(t,{O:function(){return s}});var r=n(61953),i=n(36336),o=n(85893),s=function(e){var t=e.children;return(0,o.jsx)(r.Z,{sx:{display:"flex",flexDirection:"column",flex:1,mt:{xs:"-32px",lg:"-46px",xl:"-44px",xxl:"-48px"}},children:(0,o.jsx)(i.Z,{children:t})})}},3765:function(e,t,n){"use strict";n.d(t,{p:function(){return d}});var r=n(49501),i=n(75084),o=n(26074),s=n(2031),l=n(57609),a=n(58294),c=n(85893),d=function(e){var t=e.funnel,n=(0,o.q)().setWalletModalOpen,d=(0,s.Yh)((function(e){return e.trackEvent}));return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(i.Z,{variant:"gradient",onClick:function(){d(l.Bp.CONNECT_WALLET,{funnel:t}),n(!0)},children:(0,c.jsx)(r.cC,{id:"Connect wallet"})}),(0,c.jsx)(a.x,{})]})}},80059:function(e,t,n){"use strict";n.d(t,{J:function(){return Z}});var r=n(59499),i=n(62097),o=n(61225),s=n(61953),l=n(41024),a=n(14463),c=n(17218),d=n(29630),x=n(67294),u=n(97563),p=n(85893),h=function(e){var t=(0,x.useState)(!1),n=t[0],r=t[1];return(0,p.jsx)(u.a,{placement:"bottom",tooltipContent:(0,p.jsx)(d.Z,{children:e.tooltip}),withoutHover:!0,setOpen:r,open:n,children:(0,p.jsx)(s.Z,{sx:function(t){return{p:{xs:"4px",xsm:"2px 4px"},mb:1,border:"1px solid ".concat(n?t.palette.action.disabled:t.palette.divider),borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s ease",bgcolor:n?"".concat(e.color,"80"):e.color,"&:hover":{bgcolor:"".concat(e.color,"80"),borderColor:"action.disabled"}}},onClick:function(){return r(!n)},children:(0,p.jsx)(d.Z,{variant:"main12",color:"text.secondary",sx:{textWrap:"nowrap"},children:e.text})})})},v=n(68346),m={default:{color:"#EFE8FE",text:"1x ZERO Points",tooltip:(0,p.jsxs)("span",{children:["Supplying will give you 1x ZERO Gravity points. Visit ",(0,p.jsx)(v.Z,{href:"https://airdrop.zerolend.xyz",children:"airdrop.zerolend.xyz"})," for more info"]})},"ETH-1":{color:"#EFE8FE",text:"2x ZERO Points",tooltip:(0,p.jsxs)("span",{children:["Supplying will give you 2x ZERO Gravity points. Visit ",(0,p.jsx)(v.Z,{href:"https://airdrop.zerolend.xyz",children:"airdrop.zerolend.xyz"})," for more info"]})}},j={default:{color:"#EFE8FE",text:"4x ZERO Points",tooltip:(0,p.jsxs)("span",{children:["Borrowing will give you 4x ZERO Gravity points. Visit ",(0,p.jsx)(v.Z,{href:"https://airdrop.zerolend.xyz",children:"airdrop.zerolend.xyz"})," for more info"]})},"ETH-1":{color:"#EFE8FE",text:"8x ZERO Points",tooltip:(0,p.jsxs)("span",{children:["Borrowing will give you 8x ZERO Gravity points. Visit ",(0,p.jsx)(v.Z,{href:"https://airdrop.zerolend.xyz",children:"airdrop.zerolend.xyz"})," for more info"]})}},f={"rsETH-1":[{color:"#D8F0F0",text:"1-3x Kelp Miles",tooltip:"Supplying rtETH will give you 1x Kelp miles on KelpDAO. You can get more points (upto 3x) by leveraging on your deposit."},{color:"#e5f293",text:"1-3x EigenLayer Points",tooltip:"Supplying rtETH will give you 1x EL points on KelpDAO. You can get more points (upto 3x) by leveraging on your deposit."}],"ezETH-1":[{color:"#ACE731",text:"1-3x ezPoints",tooltip:"Supplying ezETH will give you 1x ezPoints on Renzo. You can get more points (upto 3x) by leveraging on your deposit."},{color:"#e5f293",text:"1-3x EigenLayer Points",tooltip:"Supplying ezETH will give you 1x EL points on Renzo. You can get more points (upto 3x) by leveraging on your deposit."}],"ezETH-59144":[{color:"#ACE731",text:"1-3x ezPoints",tooltip:"Supplying ezETH will give you 1x ezPoints on Renzo. You can get more points (upto 3x) by leveraging on your deposit."},{color:"#e5f293",text:"1-3x EigenLayer Points",tooltip:"Supplying ezETH will give you 1x EL points on Renzo. You can get more points (upto 3x) by leveraging on your deposit."}],"weETH-1":[{color:"#ACE731",text:"1-3x Loyalty Points",tooltip:"Supplying weETH will give you 1x loyalty points on ether.fi. You can get more points (upto 3x) by leveraging on your deposit."},{color:"#e5f293",text:"1-3x EigenLayer Points",tooltip:"Supplying weETH will give you 1x EL points on ether.fi. You can get more points (upto 3x) by leveraging on your deposit."}]},g=n(46930);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=function(e){var t=e.symbol,n=e.value,r=e.incentives,d=e.variant,u=void 0===d?"secondary14":d,v=e.symbolsVariant,b=e.align,Z=e.color,w=e.tooltip,C=e.isSupplyApy,k=(0,g.f)().currentMarketData,S=f["".concat(t,"-").concat(k.chainId)],O=m["".concat(t,"-").concat(k.chainId)]||m.default,A=j["".concat(t,"-").concat(k.chainId)]||j.default,I=S&&S.length>0,E=(0,i.Z)(),P=(0,o.Z)(E.breakpoints.down("sm"));return(0,p.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"column",alignItems:b||{xs:"flex-end",xsm:"center"},justifyContent:"center",textAlign:"center"},children:["-1"!==n.toString()?"0"===n.toString()&&I?(0,p.jsx)("div",{}):(0,p.jsxs)(s.Z,{sx:{display:"flex"},children:[(0,p.jsx)(l.B,{"data-cy":"apy",value:n,percent:!0,variant:u,symbolsVariant:v,color:Z,symbolsColor:Z}),w]}):(0,p.jsx)(a.J,{variant:u,color:Z||"text.secondary"}),(0,p.jsx)(c.M,{incentives:null===r||void 0===r?void 0:r.filter((function(e){return"earlyZERO"===e.rewardTokenSymbol})),symbol:t}),(0,p.jsxs)(s.Z,{mt:1,display:"flex",flexDirection:"column",alignItems:P?"flex-end":"center",children:["-1"!==n.toString()&&(C?(0,p.jsx)(h,y({},O)):(0,p.jsx)(h,y({},A))),I&&C&&S.map((function(e){return(0,x.createElement)(h,y(y({},e),{},{key:e.color}))}))]})]})}},45884:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var r=n(61953),i=n(85893),o=function(e){var t=e.isRow,n=e.children,o=e.minWidth,s=e.maxWidth,l=e.align,a=void 0===l?"center":l,c=e.overFlow,d=void 0===c?"visible":c,x=e.flex,u=void 0===x?1:x,p=e.p,h=void 0===p?1:p;return(0,i.jsx)(r.Z,{sx:{display:"flex",flexDirection:t?"row":"column",alignItems:t?"center":"left"===a?"flex-start":"right"===a?"flex-end":a,justifyContent:t?"flex-start":"flex-end",flex:u,minWidth:o||"70px",maxWidth:s,overflow:d,padding:h},children:n})}},99435:function(e,t,n){"use strict";n.d(t,{M:function(){return a}});var r=n(29630),i=n(61953),o=n(2031),s=n(57609),l=n(85893),a=function(e){var t=e.sortName,n=e.sortDesc,a=e.sortKey,c=e.source,d=e.setSortName,x=e.setSortDesc,u=e.onClick,p=e.children,h=(0,o.Yh)((function(e){return e.trackEvent}));return(0,l.jsxs)(r.Z,{component:"div",variant:"subheader2",color:"text.secondary",noWrap:!0,onClick:function(){return u?u():!!a&&(e=a,h(s.uZ.SORT,{sort_by:e,tile:c}),x&&x(!1),d&&d(e),void(t===e&&x&&x(!n)));var e},sx:{cursor:u||a?"pointer":"default",display:"inline-flex",alignItems:"center"},children:[p,!!a&&(0,l.jsxs)(i.Z,{sx:{display:"inline-flex",flexDirection:"column",ml:1},children:[(0,l.jsx)(i.Z,{component:"span",sx:function(e){return{width:0,height:0,borderStyle:"solid",borderWidth:"0 4px 4px 4px",borderColor:"transparent transparent ".concat(t===a&&n?e.palette.text.secondary:e.palette.divider," transparent"),mb:.5}}}),(0,l.jsx)(i.Z,{component:"span",sx:function(e){return{width:0,height:0,borderStyle:"solid",borderWidth:"4px 4px 0 4px",borderColor:"".concat(t!==a||n?e.palette.divider:e.palette.text.secondary," transparent transparent transparent")}}})]})]})}},1475:function(e,t,n){"use strict";n.d(t,{u:function(){return d}});var r=n(59499),i=n(4730),o=n(61953),s=n(85893),l=["px","children"];function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e){var t=e.px,n=void 0===t?4:t,r=e.children,a=(0,i.Z)(e,l);return(0,s.jsx)(o.Z,c(c({},a),{},{sx:c({display:"flex",alignItems:"flex-end",px:n,pt:4,pb:1,position:"sticky",top:0,zIndex:100,bgcolor:"background.paper",borderBottom:"1px solid",borderColor:"divider"},a.sx),children:r}))}},32383:function(e,t,n){"use strict";n.d(t,{H:function(){return d}});var r=n(59499),i=n(4730),o=n(61953),s=n(85893),l=["children","minHeight","px","button"];function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e){var t=e.children,n=e.minHeight,r=void 0===n?71:n,a=e.px,d=void 0===a?4:a,x=e.button,u=(0,i.Z)(e,l);return(0,s.jsx)(o.Z,c(c({},u),{},{sx:c(c({display:"flex",alignItems:"center",minHeight:r,px:d,"&:not(:last-child)":{borderBottom:"1px solid",borderColor:"divider"}},x?{"&:hover":{bgcolor:"action.hover"}}:{}),u.sx),children:t}))}},26079:function(e,t,n){"use strict";n.d(t,{N:function(){return s}});var r=n(61953),i=n(29630),o=n(85893),s=function(e){var t=e.text;return(0,o.jsx)(r.Z,{sx:{px:{xs:4,xsm:6},pt:{xs:3.5,xsm:5.5},pb:{xs:6,sxm:7}},children:(0,o.jsx)(i.Z,{color:"text.secondary",children:t})})}},79340:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/v3-migration",function(){return n(24756)}])}},function(e){e.O(0,[249,980,774,888,179],(function(){return t=79340,e(e.s=t);var t}));var t=e.O();_N_E=t}]);