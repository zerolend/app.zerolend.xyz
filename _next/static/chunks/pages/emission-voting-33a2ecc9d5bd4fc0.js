(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[640],{93262:function(e,t,r){"use strict";r.r(t),r.d(t,{VoteContainer:function(){return J},default:function(){return Q},voteContainerProps:function(){return X}});var n=r(59499),o=r(67294),i=r(82808),s=r(50305),a=r(36336),c=r(30120),l=r(49501),u=r(28480),d=r(45556),x=r(62097),p=r(61225),h=r(90116),f=r(77191),j=r(1475),m=r(45884),v=r(99435),g=r(32383),y=r(29630),b=r(59248),w=r(41024),O=r(19547),Z=r(1279),P=r(85893),C=function(e){var t=e.gauge,r=e.setUserPoolData;return(0,P.jsxs)(g.H,{px:6,minHeight:76,sx:{cursor:"pointer"},button:!0,"data-cy":"GuageVotePoolsDesktopItem_".concat(t.poolName.toUpperCase()),children:[(0,P.jsx)(m.h,{isRow:!0,maxWidth:340,children:(0,P.jsxs)(c.Z,{sx:{overflow:"hidden"},children:[(0,P.jsx)(y.Z,{variant:"h4",noWrap:!0,children:t.poolName}),(0,P.jsx)(y.Z,{variant:"caption",noWrap:!0,children:t.poolAddress})]})}),(0,P.jsx)(m.h,{children:(0,P.jsx)(w.B,{value:"2131243",compact:!0,variant:"main16",symbol:"USD"})}),(0,P.jsx)(m.h,{children:(0,P.jsx)(w.B,{value:(0,Z.Fv)(t.overallVotes,18),variant:"main16",symbol:"ZERO"})}),(0,P.jsxs)(m.h,{children:[(0,P.jsx)(w.B,{value:(0,Z.Fv)(t.yourVotes,18),variant:"main16",percent:!0}),(0,P.jsx)(O.i,{value:"3413131"})]}),(0,P.jsx)(m.h,{minWidth:280,children:(0,P.jsx)(c.Z,{sx:{width:260},pt:4,children:(0,P.jsx)(b.ZP,{name:t.poolAddress,size:"small",defaultValue:0,"aria-label":"Small",valueLabelDisplay:"auto",onChange:function(e,t){return r(e,t)}})})})]})},V=r(50029),S=r(17674),D=r(87794),N=r.n(D),_=r(75084),k=r(77537),E=function(e){var t=e.totalVotes,r=e.pools,n=e.sliderValues,s=(0,o.useState)([]),a=s[0],l=s[1],u=(0,i.Yh)((function(e){return[e.creatVote]})),d=(0,S.Z)(u,1)[0],x=(0,k.Z)(),p=x.sendTx,h=x.currentAccount,f=function(){var e=(0,V.Z)(N().mark((function e(){var t,o,i,s,c,u;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],o=0;o<n.length;o++)i=100*n[o]/100,t.push(i);return l(t),s=d({pool:r,weight:a}),e.next=6,s;case 6:return(c=e.sent).from=h,e.next=10,p(c);case 10:return u=e.sent,e.next=13,u.wait(1);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,P.jsx)(c.Z,{position:"fixed",bottom:32,left:0,display:"flex",alignItems:"center",justifyContent:"center",width:"100%",zIndex:9999,children:(0,P.jsxs)(c.Z,{display:"flex",alignItems:"center",p:3,bgcolor:"white",border:"1px solid #27264C",borderRadius:2,children:[(0,P.jsxs)(y.Z,{variant:"h4",mr:4,color:"text.primary",flex:1,children:["Voting Power Used: ",t,"%"]}),(0,P.jsx)(_.Z,{variant:"contained",onClick:f,children:"Vote"})]})})},I=r(36492),K=r(94244),F=r(74180),T=function(){var e=(0,K.z)().poolVotingDataService,t=(0,k.Z)().currentAccount;return(0,I.a)({queryFn:function(){return e.getGeneralAllVotes(t)},queryKey:["USER_POOL_VOTE",e.toHash()],refetchInterval:F.POLLING_INTERVAL})},W=[{title:(0,P.jsx)(l.cC,{id:"Pool Name"}),sortKey:"poolName"},{title:(0,P.jsx)(l.cC,{id:"Tvl"}),sortKey:"tvl"},{title:(0,P.jsx)(l.cC,{id:"Total Votes"}),sortKey:"overallVotes"},{title:(0,P.jsx)(l.cC,{id:"Your Vote"}),sortKey:"yourVotes"},{title:(0,P.jsx)(l.cC,{id:"Vote"}),sortKey:"action"}],L=function(e){(0,f.Z)(e);var t=(0,p.Z)("(max-width:1125px)"),r=(0,o.useState)("poolName"),n=r[0],i=r[1],s=(0,o.useState)(!1),a=s[0],l=s[1],u=(0,o.useState)([]),d=u[0],x=u[1],g=(0,o.useState)([]),y=g[0],b=g[1],w=T().data,O=(0,o.useMemo)((function(){return y.reduce((function(e,t){return e+Math.abs(t)}),0)}),[y]);return(0,P.jsxs)(c.Z,{position:"relative",children:[(0,P.jsx)(E,{totalVotes:O,pools:d,sliderValues:y}),!t&&(0,P.jsxs)(j.u,{px:6,children:[W.map((function(e){return(0,P.jsx)(m.h,{isRow:"poolName"===e.sortKey,maxWidth:"poolName"===e.sortKey?340:void 0,minWidth:"action"===e.sortKey?280:void 0,children:(0,P.jsx)(v.M,{sortName:n,sortDesc:a,setSortName:i,setSortDesc:l,sortKey:e.sortKey,source:"Markets Page",children:e.title})},e.sortKey)})),(0,P.jsx)(m.h,{maxWidth:95,minWidth:95})]}),null===w||void 0===w?void 0:w.map((function(e,r){return t?(0,P.jsx)(P.Fragment,{}):(0,P.jsx)(C,{gauge:e,setUserPoolData:function(e){!function(e,t){var r=parseInt(t.value);if(r+y.reduce((function(t,r,n){return n!==e?t+r:t}),0)<=100){var n=(0,h.Z)(y);n[e]=r,b(n)}else{var o=100-y.reduce((function(t,r,n){return n!==e?t+r:t}),0),i=(0,h.Z)(y);i[e]=o,b(i)}d.includes(t.name)||x([].concat((0,h.Z)(d),[t.name]))}(r,e.target)}},r)}))]})},A=function(){var e=(0,x.Z)().breakpoints,t=(0,p.Z)(e.down("sm"));return(0,P.jsx)(d.l,{titleComponent:(0,P.jsx)(u._,{onSearchTermChange:console.log,title:(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(l.cC,{id:"Pools Voting"})}),searchPlaceholder:t?"Search pool":"Search pool name, address"}),children:(0,P.jsx)(L,{guages:[],loading:!1})})},B=r(40535),M=r(46930),R=r(74815),U=(r(2180),r(14463)),Y=r(87369),z=r(28533),G=function(){var e=(0,M.f)().currentNetworkConfig,t=(0,x.Z)(),r=(0,p.Z)(t.breakpoints.down("sm")),n=r?"secondary16":"secondary21";return(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(R.f,{titleComponent:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(z.Z,{wrapperSx:{mb:4},chainId:59144}),(0,P.jsx)(c.Z,{sx:{display:"flex",alignItems:"center"},children:(0,P.jsx)(B.V,{pageTitle:(0,P.jsx)(l.cC,{id:"Incentive Voting"}),withMarketSwitcher:!1,bridge:e.bridge})})]}),pageDesc:(0,P.jsx)(l.cC,{id:"Vote, Bribe and earn rewards for placing votes on various pools."}),children:(0,P.jsx)(Y.d,{hideIcon:!0,title:(0,P.jsx)("div",{style:{display:"flex"},children:(0,P.jsx)(l.cC,{id:"Your Voting Power"})}),loading:!1,children:(0,P.jsx)(U.J,{variant:n,sx:{opacity:"0.7"}})})})})};function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var X={sx:{display:"flex",flexDirection:"column",flex:1,pb:"39px",px:{xs:2,xsm:5,sm:12,md:5,lg:0,xl:"96px",xxl:0},maxWidth:{xs:"unset",lg:"1240px",xl:"unset",xxl:"1440px"}}},J=function(e){var t=e.children;return(0,P.jsx)(a.Z,q(q({},X),{},{children:t}))};function Q(){var e=(0,i.Yh)((function(e){return e.trackEvent}));return(0,o.useEffect)((function(){e("Page Viewed",{"Page Name":"Lock"})}),[e]),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(G,{}),(0,P.jsx)(c.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",flex:1,mt:{xs:"-32px",lg:"-46px",xl:"-44px",xxl:"-48px"}},children:(0,P.jsx)(J,{children:(0,P.jsx)(A,{})})})]})}Q.getLayout=function(e){return(0,P.jsx)(s.Z,{children:e})}},28533:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(59499),o=r(49501),i=r(75331),s=r(30120),a=r(29630),c=r(91555),l=r(85893);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=function(e,t){return e===i.a_.mainnet?"Ethereum Mainnet":t.name},p=function(e){var t=e.chainId,r=e.wrapperSx,n=c.m[t];return(0,l.jsxs)(s.Z,{sx:d({display:"flex",alignItems:"center"},r),children:[(0,l.jsx)(a.Z,{variant:"subheader1",sx:{mr:2,color:"#C0CBF6"},children:(0,l.jsx)(o.cC,{id:"Available on"})}),(0,l.jsx)(s.Z,{sx:{height:16,width:16},children:(0,l.jsx)("img",{src:n.networkLogoPath,height:"100%",width:"100%",alt:"".concat(null===n||void 0===n?void 0:n.name)})}),(0,l.jsx)(a.Z,{variant:"subheader1",sx:{ml:1,color:"#C0CBF6"},children:x(t,n)})]})}},69546:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/emission-voting",function(){return r(93262)}])}},function(e){e.O(0,[249,981,397,774,888,179],(function(){return t=69546,e(e.s=t);var t}));var t=e.O();_N_E=t}]);