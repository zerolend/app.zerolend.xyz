(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[276],{12079:function(e,n,r){"use strict";var t=r(64836);n.Z=void 0;var i=t(r(64938)),s=r(85893),o=(0,i.default)((0,s.jsx)("path",{d:"M6 6v2h8.59L5 17.59 6.41 19 16 9.41V18h2V6z"}),"ArrowOutward");n.Z=o},62705:function(e,n,r){var t=r(55639).Symbol;e.exports=t},44239:function(e,n,r){var t=r(62705),i=r(89607),s=r(2333),o=t?t.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):s(e)}},27561:function(e,n,r){var t=r(67990),i=/^\s+/;e.exports=function(e){return e?e.slice(0,t(e)+1).replace(i,""):e}},31957:function(e,n,r){var t="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=t},89607:function(e,n,r){var t=r(62705),i=Object.prototype,s=i.hasOwnProperty,o=i.toString,a=t?t.toStringTag:void 0;e.exports=function(e){var n=s.call(e,a),r=e[a];try{e[a]=void 0;var t=!0}catch(c){}var i=o.call(e);return t&&(n?e[a]=r:delete e[a]),i}},2333:function(e){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},55639:function(e,n,r){var t=r(31957),i="object"==typeof self&&self&&self.Object===Object&&self,s=t||i||Function("return this")();e.exports=s},67990:function(e){var n=/\s/;e.exports=function(e){for(var r=e.length;r--&&n.test(e.charAt(r)););return r}},23279:function(e,n,r){var t=r(13218),i=r(7771),s=r(14841),o=Math.max,a=Math.min;e.exports=function(e,n,r){var c,l,u,d,x,h,p=0,m=!1,f=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function j(n){var r=c,t=l;return c=l=void 0,p=n,d=e.apply(t,r)}function v(e){return p=e,x=setTimeout(b,n),m?j(e):d}function g(e){var r=e-h;return void 0===h||r>=n||r<0||f&&e-p>=u}function b(){var e=i();if(g(e))return w(e);x=setTimeout(b,function(e){var r=n-(e-h);return f?a(r,u-(e-p)):r}(e))}function w(e){return x=void 0,y&&c?j(e):(c=l=void 0,d)}function Z(){var e=i(),r=g(e);if(c=arguments,l=this,h=e,r){if(void 0===x)return v(h);if(f)return clearTimeout(x),x=setTimeout(b,n),j(h)}return void 0===x&&(x=setTimeout(b,n)),d}return n=s(n)||0,t(r)&&(m=!!r.leading,u=(f="maxWait"in r)?o(s(r.maxWait)||0,n):u,y="trailing"in r?!!r.trailing:y),Z.cancel=function(){void 0!==x&&clearTimeout(x),p=0,c=h=l=x=void 0},Z.flush=function(){return void 0===x?d:w(i())},Z}},13218:function(e){e.exports=function(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}},37005:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},33448:function(e,n,r){var t=r(44239),i=r(37005);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==t(e)}},7771:function(e,n,r){var t=r(55639);e.exports=function(){return t.Date.now()}},14841:function(e,n,r){var t=r(27561),i=r(13218),s=r(33448),o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(s(e))return NaN;if(i(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=i(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=t(e);var r=a.test(e);return r||c.test(e)?l(e.slice(2),r?2:8):o.test(e)?NaN:+e}},50817:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return Te}});var t=r(67294),i=r(15446),s=r(78544),o=r(49501),a=r(62097),c=r(61225),l=r(61953),u=r(29630),d=r(40535),x=r(74815),h=r(85893),p=function(){var e=(0,a.Z)().breakpoints,n=(0,c.Z)(e.down("md")),r=(0,c.Z)(e.down("xsm"));return(0,h.jsx)(x.f,{pageTitle:(0,h.jsx)(h.Fragment,{}),titleComponent:(0,h.jsxs)(l.Z,{children:[(0,h.jsx)(l.Z,{sx:{display:"flex",alignItems:"center"},children:(0,h.jsx)(u.Z,{variant:"h3",sx:{color:"#A5A8B6"},children:(0,h.jsx)(o.cC,{id:"Transaction history"})})}),(0,h.jsx)(d.V,{withMarketSwitcher:!0}),(0,h.jsx)(l.Z,{sx:{width:n?r?"320px":"540px":"860px"}})]})})},m=r(17674),f=r(50029),y=r(87794),j=r.n(y);var v=t.forwardRef((function(e,n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:n},e),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"}))})),g=r(70918),b=r(90149),w=r(81645),Z=r(75084),S=r(45745),C=r(45556),O=r(8403),R=r(90116),P=r(32161),A=r(52924),k=r(9499);class D extends A.z{constructor(e,n){super(e,n)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,n){super.setOptions({...e,behavior:(0,k.Gm)()},n)}getOptimisticResult(e){return e.behavior=(0,k.Gm)(),super.getOptimisticResult(e)}fetchNextPage({pageParam:e,...n}={}){return this.fetch({...n,meta:{fetchMore:{direction:"forward",pageParam:e}}})}fetchPreviousPage({pageParam:e,...n}={}){return this.fetch({...n,meta:{fetchMore:{direction:"backward",pageParam:e}}})}createResult(e,n){var r,t,i,s,o,a;const{state:c}=e,l=super.createResult(e,n),{isFetching:u,isRefetching:d}=l,x=u&&"forward"===(null==(r=c.fetchMeta)||null==(t=r.fetchMore)?void 0:t.direction),h=u&&"backward"===(null==(i=c.fetchMeta)||null==(s=i.fetchMore)?void 0:s.direction);return{...l,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,k.Qy)(n,null==(o=c.data)?void 0:o.pages),hasPreviousPage:(0,k.ZF)(n,null==(a=c.data)?void 0:a.pages),isFetchingNextPage:x,isFetchingPreviousPage:h,isRefetching:d&&!x&&!h}}}var T=r(1476);var N,E=function(e){return void 0!==e.collateralReserve},I=function(e){return void 0!==e.principalReserve},U=function(e){return void 0!==e.reserve};!function(e){e[e.SUPPLY=0]="SUPPLY",e[e.BORROW=1]="BORROW",e[e.WITHDRAW=2]="WITHDRAW",e[e.REPAY=3]="REPAY",e[e.RATECHANGE=4]="RATECHANGE",e[e.COLLATERALCHANGE=5]="COLLATERALCHANGE",e[e.LIQUIDATION=6]="LIQUIDATION"}(N||(N={}));var L=r(24834),B=r(74180),F=function(e){var n,r=e.searchQuery,t=e.filterQuery,i=e.txns;if(r.length>0){var s=r.toLowerCase();n=i.filter((function(e){var n="",r="",t="",i="",o="",a="";E(e)&&(n=e.collateralReserve.symbol.toLowerCase(),t=e.collateralReserve.name.toLowerCase()),I(e)&&(r=e.principalReserve.symbol.toLowerCase(),i=e.principalReserve.name.toLowerCase()),U(e)&&(o=e.reserve.symbol.toLowerCase(),a=e.reserve.name.toLowerCase());var c=a.includes("ether")&&!a.includes("tether")?"ethereum":"";return o.includes(s)||n.includes(s)||r.includes(s)||a.includes(s)||c.includes(s)||t.includes(s)||i.includes(s)}))}else n=i;return t.length>0&&(n=n.filter((function(e){return!!t.includes(function(e){switch(e){case"Deposit":case"Supply":return 0;case"Borrow":return 1;case"RedeemUnderlying":return 2;case"Repay":return 3;case"Swap":case"SwapBorrowRate":return 4;case"UsageAsCollateral":return 5;case"LiquidationCall":return 6;default:return 7}}(e.action))}))),n},M=function(e){var n=e.isFilterActive,r=(0,L.Yh)((function(e){return[e.currentMarketData,e.account]})),i=(0,m.Z)(r,2),s=i[0],o=i[1],a=(0,t.useState)(!1),c=a[0],l=a[1],u=void 0;s.v3||"Ethereum"!==s.marketTitle&&"Ethereum AMM"!==s.marketTitle||(u=s.addresses.LENDING_POOL_ADDRESS_PROVIDER.toLowerCase());var d=function(){var e=(0,f.Z)(j().mark((function e(n){var r,t,i,s,o,a,c,l,u;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.account,t=n.subgraphUrl,i=n.first,s=n.skip,o=n.v3,a=n.pool,"",c={query:o?"\nquery UserTransactions($userAddress: String!, $first: Int!, $skip: Int!) {\n  userTransactions(where: { user: $userAddress }, orderBy: timestamp, orderDirection: desc, first: $first, skip: $skip) {\n    id\n    timestamp\n    txHash\n    action\n    ... on Supply {\n      amount\n      reserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n      assetPriceUSD\n    }\n    ... on RedeemUnderlying {\n      amount\n      reserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n      assetPriceUSD\n    }\n    ... on Borrow {\n      amount\n      borrowRateMode\n      reserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n      assetPriceUSD\n    }\n    ... on UsageAsCollateral {\n      fromState\n      toState\n      reserve {\n        symbol\n        name\n        underlyingAsset\n      }\n    }\n    ... on Repay {\n      amount\n      reserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n      assetPriceUSD\n    }\n    ... on SwapBorrowRate {\n      borrowRateModeFrom\n      borrowRateModeTo\n      variableBorrowRate\n      stableBorrowRate\n      reserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n    }\n    ... on LiquidationCall {\n      collateralAmount\n      collateralReserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n      principalAmount\n      principalReserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n      collateralAssetPriceUSD\n      borrowAssetPriceUSD\n    }\n  }\n}\n":a?"\nquery UserTransactions($userAddress: String!, $first: Int!, $skip: Int!, $pool: String!) {\n  userTransactions(where: { user: $userAddress, pool: $pool }, orderBy: timestamp, orderDirection: desc, first: $first, skip: $skip) {\n    id\n    timestamp\n    txHash\n    action\n    ... on Deposit {\n      amount\n      reserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n      assetPriceUSD\n    }\n    ... on RedeemUnderlying {\n      amount\n      reserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n      assetPriceUSD\n    }\n    ... on Borrow {\n      amount\n      borrowRateMode\n      reserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n      assetPriceUSD\n    }\n    ... on UsageAsCollateral {\n      fromState\n      toState\n      reserve {\n        symbol\n        name\n        underlyingAsset\n      }\n    }\n    ... on Repay {\n      amount\n      reserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n      assetPriceUSD\n    }\n    ... on Swap {\n      borrowRateModeFrom\n      borrowRateModeTo\n      variableBorrowRate\n      stableBorrowRate\n      reserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n    }\n    ... on LiquidationCall {\n      collateralAmount\n      collateralReserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n      principalAmount\n      principalReserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n      collateralAssetPriceUSD\n      borrowAssetPriceUSD\n    }\n  }\n}\n":"\nquery UserTransactions($userAddress: String!, $first: Int!, $skip: Int!) {\n  userTransactions(where: { user: $userAddress }, orderBy: timestamp, orderDirection: desc, first: $first, skip: $skip) {\n    id\n    timestamp\n    txHash\n    action\n    ... on Deposit {\n      amount\n      reserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n      assetPriceUSD\n    }\n    ... on RedeemUnderlying {\n      amount\n      reserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n      assetPriceUSD\n    }\n    ... on Borrow {\n      amount\n      borrowRateMode\n      reserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n      assetPriceUSD\n    }\n    ... on UsageAsCollateral {\n      fromState\n      toState\n      reserve {\n        symbol\n        name\n        underlyingAsset\n      }\n    }\n    ... on Repay {\n      amount\n      reserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n      assetPriceUSD\n    }\n    ... on Swap {\n      borrowRateModeFrom\n      borrowRateModeTo\n      variableBorrowRate\n      stableBorrowRate\n      reserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n    }\n    ... on LiquidationCall {\n      collateralAmount\n      collateralReserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n      principalAmount\n      principalReserve {\n        symbol\n        decimals\n        name\n        underlyingAsset\n      }\n      collateralAssetPriceUSD\n      borrowAssetPriceUSD\n    }\n  }\n}\n",variables:{userAddress:r,first:i,skip:s,pool:a}},e.prev=4,e.next=7,fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 7:if((l=e.sent).ok){e.next=10;break}throw new Error("Network error: ".concat(l.status," - ").concat(l.statusText));case 10:return e.next=12,l.json();case 12:return u=e.sent,e.abrupt("return",u.data.userTransactions||[]);case 16:return e.prev=16,e.t0=e.catch(4),console.error("Error fetching transaction history:",e.t0),e.abrupt("return",[]);case 20:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(n){return e.apply(this,arguments)}}(),x=function(){var e=(0,f.Z)(j().mark((function e(n){var r,t,i,a,c,l,x,h,p;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.searchQuery,t=n.filterQuery,i=[],c=0,l=a=100;case 5:if(l!==a){e.next=14;break}return e.next=8,d({first:a,skip:c,account:o,subgraphUrl:null!==(x=s.subgraphUrl)&&void 0!==x?x:"",v3:!!s.v3,pool:u});case 8:h=e.sent,l=h.length,i.push.apply(i,(0,R.Z)(h)),c+=a,e.next=5;break;case 14:return p=F({searchQuery:r,filterQuery:t,txns:i}),e.abrupt("return",p);case 16:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),h=function(e,n,r){const t=(0,P._v)(e,n,r);return(0,T.r)(t,D)}([B.i.TRANSACTION_HISTORY,o,s.subgraphUrl,s.marketTitle],function(){var e=(0,f.Z)(j().mark((function e(n){var r,t,i,a;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.pageParam,i=void 0===t?0:t,e.next=3,d({account:o,subgraphUrl:null!==(r=s.subgraphUrl)&&void 0!==r?r:"",first:100,skip:i,v3:!!s.v3,pool:u});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),{enabled:!!o&&!!s.subgraphUrl,getNextPageParam:function(e,n){if(100===e.length)return 100*n.length}}),p=h.data,y=h.fetchNextPage,v=h.hasNextPage,g=h.isLoading,b=h.isFetchingNextPage,w=h.isError,Z=h.error;return(0,t.useEffect)((function(){l(!(!n||!v||b))}),[n,v,b]),(0,t.useEffect)((function(){c&&y()}),[c,y]),{data:p,fetchNextPage:y,isFetchingNextPage:b,hasNextPage:v,isLoading:g,isError:w,error:Z,fetchForDownload:x,subgraphUrl:s.subgraphUrl}},H=r(77537),W=r(57609),z=r(59499),_=r(56371),Q=r(41551);function $(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}var Y=function(e){var n=e.unixTimestamp,r=new Date(1e3*n),t=r.getHours(),i=(t+24-1)%12+1,s=r.getMinutes(),o=t<12?"AM":"PM",a=String(i).padStart(2,"0"),c=String(s).padStart(2,"0");return"".concat(a,":").concat(c," ").concat(o)},V=function(e,n,r){var t=new Blob([n],{type:r}),i=URL.createObjectURL(t),s=document.createElement("a");s.href=i,s.download=e,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i)},q=function(e){return e.reduce((function(e,n){var r=new Intl.DateTimeFormat(void 0,{year:"numeric",month:"long",day:"numeric"}).format(new Date(1e3*n.timestamp));return e[r]||(e[r]=[]),e[r].push(n),e}),{})},J=function(e){var n,r=e.underlyingAsset,t=e.symbol,i=e.name,s=(0,Q.QD)({underlyingAsset:r,symbol:t,name:i});return{underlyingAsset:r,symbol:s.symbol.includes("Amm")?s.iconSymbol.replace(/_/g,""):s.symbol,name:null!==(n=s.name)&&void 0!==n?n:i||"",iconSymbol:s.iconSymbol||""}},G=function(e){var n=e.data,r=e.csv;return n.map((function(e){var n,t=function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?$(Object(r),!0).forEach((function(n){(0,z.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}({},e);if(void 0!==(n=e).amount&&void 0!==n.reserve&&(t.amount=(0,_.formatUnits)(e.amount,e.reserve.decimals)),U(e)&&r){var i=JSON.stringify(e.reserve);t.reserve='"'.concat(i.replace(/"/g,'""'),'"')}if(E(e)&&e.collateralAmount&&(t.collateralAmount=(0,_.formatUnits)(e.collateralAmount,e.collateralReserve.decimals),r)){var s=JSON.stringify(e.collateralReserve);t.collateralReserve='"'.concat(s.replace(/"/g,'""'),'"')}if(I(e)&&e.principalAmount&&(t.principalAmount=(0,_.formatUnits)(e.principalAmount,e.principalReserve.decimals),r)){var o=JSON.stringify(e.principalReserve);t.principalReserve='"'.concat(o.replace(/"/g,'""'),'"')}return function(e){return void 0!==e.variableBorrowRate&&void 0!==e.stableBorrowRate}(e)&&(t.variableBorrowRate=(0,_.formatUnits)(e.variableBorrowRate,25)+" %",t.stableBorrowRate=(0,_.formatUnits)(e.stableBorrowRate,25)+" %"),"Deposit"===e.action&&(t.action="Supply"),"Swap"===e.action&&(t.action="SwapBorrowRate"),"RedeemUnderlying"===e.action&&(t.action="Withdraw"),t}))},X=r(33740),K=r(54235),ee=(0,K.Z)((0,h.jsx)("path",{d:"M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"}),"Sort"),ne=(0,K.Z)((0,h.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),re=r(73812),te=r(31538),ie=r(44373),se=r(41528),oe=function(e){switch(e.filter){case N.SUPPLY:return(0,h.jsx)(o.cC,{id:"Supply"});case N.BORROW:return(0,h.jsx)(o.cC,{id:"Borrow"});case N.WITHDRAW:return(0,h.jsx)(o.cC,{id:"Withdraw"});case N.REPAY:return(0,h.jsx)(o.cC,{id:"Repay"});case N.RATECHANGE:return(0,h.jsx)(o.cC,{id:"Rate change"});case N.COLLATERALCHANGE:return(0,h.jsx)(o.cC,{id:"Collateral change"});case N.LIQUIDATION:return(0,h.jsx)(o.cC,{id:"Liqudation"})}},ae=function(e){var n=e.onFilterChange,r=e.currentFilter,i=(0,t.useState)(null),s=i[0],d=i[1],x=(0,t.useState)(r),p=x[0],m=x[1],f=(0,L.Yh)((function(e){return e.trackEvent}));(0,t.useEffect)((function(){n(p)}),[p,n]);var y=(0,a.Z)(),j=(0,c.Z)(y.breakpoints.down("md")),v=0===r.length,g=function(e){var n=[];void 0!==e&&(r.includes(e)?n=r.filter((function(n){return n!==e})):(f(W.yD.FILTER,{value:e}),(n=[].concat((0,R.Z)(r),[e])).length===Object.keys(N).length/2&&(n=[]))),m(n)},b=function(){if(v)return(0,h.jsx)(o.cC,{id:"All transactions"});var e=r.length-2,n=r.slice(0,2).map((function(e){return(0,h.jsxs)(t.Fragment,{children:[(0,h.jsx)(oe,{filter:e}),e!==r[r.length-1]&&",",e!==r[1]&&" "]},e)}));return(0,h.jsxs)(l.Z,{sx:{display:"flex"},children:[(0,h.jsx)(u.Z,{variant:"description",color:y.palette.primary.main,sx:{mr:1},children:"TXs:"}),n,e>0&&(0,h.jsxs)(t.Fragment,{children:["...(+",e,")"]})]})};return(0,h.jsxs)(l.Z,{children:[(0,h.jsxs)(Z.Z,{sx:{minWidth:148,maxWidth:j?"100%":360,display:"flex",justifyContent:"space-between",alignItems:"center",height:36,border:"1px solid",borderColor:"divider",borderRadius:"4px",mr:j?0:2,ml:j?4:0,pl:2,pr:1},onClick:function(e){d(e.currentTarget)},children:[(0,h.jsxs)(l.Z,{display:"flex",alignItems:"center",overflow:"hidden",children:[(0,h.jsx)(w.Z,{height:9,width:9,color:"primary",children:(0,h.jsx)(ee,{})}),(0,h.jsx)(u.Z,{variant:"subheader1",color:"text.primary",sx:{ml:1,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",mr:1},children:(0,h.jsx)(b,{})})]}),!v&&(0,h.jsx)(se.y,{title:(0,h.jsx)(u.Z,{variant:"caption",color:"common.white",children:(0,h.jsx)(o.cC,{id:"Reset"})}),children:(0,h.jsx)(l.Z,{sx:{cursor:"pointer",color:"primary",height:"auto",width:"auto",display:"flex",alignItems:"center"},onClick:function(e){f(W.yD.FILTER,{value:"cleared"}),e.stopPropagation(),m([])},children:(0,h.jsx)(X.Z,{color:"#A5A8B6",width:18,height:18})})})]}),(0,h.jsxs)(re.Z,{anchorEl:s,open:Boolean(s),onClose:function(){d(null),n(r)},PaperProps:{sx:{width:280,maxHeight:300,mt:1,boxShadow:"0px 0px 2px rgba(0, 0, 0, 0.2), 0px 2px 10px rgba(0, 0, 0, 0.1)",borderRadius:"4px"}},children:[(0,h.jsxs)(te.Z,{onClick:function(){return g(void 0)},sx:{background:v?y.palette.background.surface:void 0,display:"flex",justifyContent:"space-between"},children:[(0,h.jsx)(u.Z,{variant:"subheader1",color:"text.primary",children:(0,h.jsx)(o.cC,{id:"All transactions"})}),v&&(0,h.jsx)(w.Z,{sx:{fontSize:"16px"},children:(0,h.jsx)(ne,{})})]}),(0,h.jsx)(ie.Z,{sx:{mt:1}}),(0,h.jsx)(l.Z,{sx:{overflowY:"scroll",maxHeight:200,scrollbarWidth:"none",msOverflowStyle:"none","::-webkit-scrollbar":{display:"none"}},children:Object.keys(N).filter((function(e){return isNaN(Number(e))})).map((function(e){var n=N[e];return(0,h.jsxs)(te.Z,{onClick:function(){return g(n)},sx:{background:r.includes(n)?y.palette.background.surface:void 0,display:"flex",justifyContent:"space-between"},children:[(0,h.jsx)(u.Z,{variant:"subheader1",color:"text.primary",children:(0,h.jsx)(oe,{filter:n})}),r.includes(n)&&(0,h.jsx)(w.Z,{sx:{fontSize:"16px"},children:(0,h.jsx)(ne,{})})]},e)}))})]})]})},ce=r(91655),le=r(45884),ue=r(32383),de=function(){return(0,h.jsxs)(ue.H,{px:6,minHeight:68,children:[(0,h.jsxs)(le.h,{isRow:!0,maxWidth:280,children:[(0,h.jsx)(ce.Z,{variant:"circular",width:24,height:24}),(0,h.jsx)(l.Z,{sx:{pl:6,overflow:"hidden"},children:(0,h.jsx)(ce.Z,{width:48,height:14})})]}),(0,h.jsxs)(le.h,{isRow:!0,align:"center",children:[(0,h.jsx)(ce.Z,{width:40,height:12}),(0,h.jsxs)(l.Z,{sx:{pl:5,display:"flex",gap:1,alignItems:"center"},children:[(0,h.jsx)(ce.Z,{variant:"circular",width:20,height:20}),(0,h.jsx)(ce.Z,{width:64,height:14}),(0,h.jsx)(ce.Z,{width:24,height:14})]})]}),(0,h.jsx)(le.h,{align:"right",children:(0,h.jsxs)(l.Z,{sx:{display:"flex",gap:1},children:[(0,h.jsx)(ce.Z,{width:48,height:12}),(0,h.jsx)(ce.Z,{width:120,height:12})]})})]})},xe=function(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ue.H,{px:6,minHeight:68,children:(0,h.jsx)(le.h,{align:"left",children:(0,h.jsx)(ce.Z,{width:140,height:16,sx:{transform:"translateY(8px)"}})})}),(0,h.jsx)(de,{}),(0,h.jsx)(de,{}),(0,h.jsx)(de,{})]})},he=r(53737),pe=r(29894),me=r(61702),fe=function(){return(0,h.jsxs)(ue.H,{px:6,minHeight:68,children:[(0,h.jsxs)(le.h,{isRow:!0,maxWidth:280,children:[(0,h.jsx)(ce.Z,{variant:"circular",width:24,height:24}),(0,h.jsx)(l.Z,{sx:{pl:6,overflow:"hidden"},children:(0,h.jsx)(ce.Z,{width:48,height:14})})]}),(0,h.jsx)(le.h,{align:"right",children:(0,h.jsxs)(l.Z,{sx:{display:"flex",gap:1},children:[(0,h.jsx)(ce.Z,{width:48,height:12}),(0,h.jsx)(ce.Z,{width:120,height:12})]})})]})},ye=function(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ue.H,{px:6,minHeight:68,children:(0,h.jsx)(le.h,{align:"left",children:(0,h.jsx)(ce.Z,{width:80,height:16,sx:{transform:"translateY(8px)"}})})}),(0,h.jsx)(fe,{}),(0,h.jsx)(fe,{}),(0,h.jsx)(fe,{})]})},je=r(12079),ve=r(76384),ge=r(41024),be=r(2180),we=function(e){var n=e.swapBorrowRateTx,r=e.borrowRateMode;return"Variable"===r||"2"===r?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(u.Z,{variant:"description",color:"text.primary",pr:.5,children:(0,h.jsx)(o.cC,{id:"Variable"})}),(0,h.jsxs)(u.Z,{variant:"secondary14",color:"text.primary",pr:.5,children:[Number((0,_.formatUnits)(n.variableBorrowRate,25)).toFixed(2),"%"]}),(0,h.jsx)(u.Z,{variant:"description",color:"text.primary",children:(0,h.jsx)(o.cC,{id:"APY"})})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(u.Z,{variant:"description",color:"text.primary",pr:.5,children:(0,h.jsx)(o.cC,{id:"Stable"})}),(0,h.jsxs)(u.Z,{variant:"secondary14",color:"text.primary",pr:.5,children:[Number((0,_.formatUnits)(n.stableBorrowRate,25)).toFixed(2),"%"]}),(0,h.jsx)(u.Z,{variant:"description",color:"text.primary",children:(0,h.jsx)(o.cC,{id:"APY"})})]})},Ze=function(e){var n=e.value;return n>0?(0,h.jsx)(ge.B,{compact:!0,compactThreshold:1e5,symbol:"USD",symbolsColor:"common.white",value:n}):(0,h.jsx)(l.Z,{sx:{textAlign:"center",mb:1},children:(0,h.jsx)(o.cC,{id:"Price data is not currently available for this reserve on the protocol subgraph"})})},Se=function(e){switch(e.action){case"Supply":case"Deposit":return(0,h.jsx)(o.cC,{id:"Supply"});case"Borrow":return(0,h.jsx)(o.cC,{id:"Borrow"});case"RedeemUnderlying":return(0,h.jsx)(o.cC,{id:"Withdraw"});case"Repay":return(0,h.jsx)(o.cC,{id:"Repay"});case"UsageAsCollateral":return(0,h.jsx)(o.cC,{id:"Collateral usage"});case"SwapBorrowRate":case"Swap":return(0,h.jsx)(o.cC,{id:"Borrow rate change"});case"LiquidationCall":return(0,h.jsx)(o.cC,{id:"Liquidation"});default:return(0,h.jsx)(h.Fragment,{})}},Ce=function(e){var n=e.transaction,r=e.iconSize;switch(n.action){case"Supply":case"Deposit":var t=n,i=J(t.reserve),s=(0,_.formatUnits)(t.amount,t.reserve.decimals);return(0,h.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,h.jsx)(be.T1,{symbol:i.iconSymbol,sx:{fontSize:r}}),(0,h.jsx)(u.Z,{variant:"secondary14",color:"text.primary",sx:{ml:i.iconSymbol.split("_").length>1?3:1,mb:.5},children:"+"}),(0,h.jsx)(se.y,{wrap:!0,title:(0,h.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,h.jsx)(Ze,{value:Number(t.assetPriceUSD)*Number(s)}),(0,h.jsxs)(l.Z,{sx:{display:"flex"},children:[(0,h.jsx)(ge.B,{value:s,variant:"secondary14",color:"common.white",sx:{mr:1}}),(0,h.jsx)(u.Z,{variant:"secondary14",color:"common.white",children:i.symbol})]})]}),arrow:!0,placement:"top",children:(0,h.jsx)(l.Z,{children:(0,h.jsx)(ge.B,{value:s,variant:"secondary14",color:"text.primary",compact:!0,compactThreshold:1e5,sx:{mr:1}})})}),(0,h.jsx)(se.y,{title:(0,h.jsxs)(u.Z,{variant:"secondary14",color:"common.white",children:[i.name," (",i.symbol,")"]}),arrow:!0,placement:"top",children:(0,h.jsx)(u.Z,{variant:"secondary14",color:"text.primary",children:i.symbol})})]});case"Borrow":var a=n,c=J(a.reserve),d=(0,_.formatUnits)(a.amount,a.reserve.decimals);return(0,h.jsxs)(l.Z,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,h.jsx)(be.T1,{symbol:c.iconSymbol,sx:{fontSIze:r}}),(0,h.jsx)(u.Z,{variant:"secondary14",color:"text.primary",sx:{ml:c.iconSymbol.split("_").length>1?3:1,mb:.5},children:"\u2212"}),(0,h.jsx)(se.y,{wrap:!0,title:(0,h.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,h.jsx)(Ze,{value:Number(a.assetPriceUSD)*Number(d)}),(0,h.jsxs)(l.Z,{sx:{display:"flex"},children:[(0,h.jsx)(ge.B,{value:d,variant:"secondary14",color:"common.white",sx:{mr:1}}),(0,h.jsx)(u.Z,{variant:"secondary14",color:"common.white",children:c.symbol})]})]}),arrow:!0,placement:"top",children:(0,h.jsx)(l.Z,{children:(0,h.jsx)(ge.B,{value:d,variant:"secondary14",color:"text.primary",sx:{mr:1},compact:!0,compactThreshold:1e5})})}),(0,h.jsx)(se.y,{title:(0,h.jsxs)(u.Z,{variant:"secondary14",color:"common.white",children:[c.name," (",c.symbol,")"]}),arrow:!0,placement:"top",children:(0,h.jsx)(u.Z,{variant:"secondary14",color:"text.primary",children:c.symbol})})]});case"RedeemUnderlying":var x=n,p=J(x.reserve),m=(0,_.formatUnits)(x.amount,x.reserve.decimals);return(0,h.jsxs)(l.Z,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,h.jsx)(be.T1,{symbol:p.iconSymbol,sx:{fontSIze:r}}),(0,h.jsx)(u.Z,{variant:"secondary14",color:"text.primary",sx:{ml:p.iconSymbol.split("_").length>1?3:1,mb:.5},children:"\u2212"}),(0,h.jsx)(se.y,{wrap:!0,title:(0,h.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,h.jsx)(Ze,{value:Number(x.assetPriceUSD)*Number(m)}),(0,h.jsxs)(l.Z,{sx:{display:"flex"},children:[(0,h.jsx)(ge.B,{value:m,variant:"secondary14",color:"common.white",sx:{mr:1}}),(0,h.jsx)(u.Z,{variant:"secondary14",color:"common.white",children:p.symbol})]})]}),arrow:!0,placement:"top",children:(0,h.jsx)(l.Z,{children:(0,h.jsx)(ge.B,{value:m,variant:"secondary14",color:"text.primary",sx:{mr:1},compact:!0,compactThreshold:1e5})})}),(0,h.jsx)(se.y,{title:(0,h.jsxs)(u.Z,{variant:"secondary14",color:"common.white",children:[p.name," (",p.symbol,")"]}),arrow:!0,placement:"top",children:(0,h.jsx)(u.Z,{variant:"secondary14",color:"text.primary",children:p.symbol})})]});case"Repay":var f=n,y=J(f.reserve),j=(0,_.formatUnits)(f.amount,f.reserve.decimals);return(0,h.jsxs)(l.Z,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,h.jsx)(be.T1,{symbol:y.iconSymbol,sx:{fontSIze:r}}),(0,h.jsx)(u.Z,{variant:"secondary14",color:"text.primary",sx:{ml:y.iconSymbol.split("_").length>1?3:1,mb:.5},children:"+"}),(0,h.jsx)(se.y,{wrap:!0,title:(0,h.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,h.jsx)(Ze,{value:Number(f.assetPriceUSD)*Number(j)}),(0,h.jsxs)(l.Z,{sx:{display:"flex"},children:[(0,h.jsx)(ge.B,{value:j,variant:"secondary14",color:"common.white",sx:{mr:1}}),(0,h.jsx)(u.Z,{variant:"secondary14",color:"common.white",children:y.symbol})]})]}),arrow:!0,placement:"top",children:(0,h.jsx)(l.Z,{children:(0,h.jsx)(ge.B,{value:j,variant:"secondary14",color:"text.primary",sx:{mr:1},compact:!0,compactThreshold:1e5})})}),(0,h.jsx)(se.y,{title:(0,h.jsxs)(u.Z,{variant:"secondary14",color:"common.white",children:[y.name," (",y.symbol,")"]}),arrow:!0,placement:"top",children:(0,h.jsx)(u.Z,{variant:"secondary14",color:"sucess.main",children:y.symbol})})]});case"UsageAsCollateral":var v=n,g=J(v.reserve);return(0,h.jsxs)(l.Z,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,h.jsx)(u.Z,{variant:"description",color:"text.primary",children:(0,h.jsx)(o.cC,{id:"Collateralization"})}),!0===v.toState?(0,h.jsx)(u.Z,{variant:"subheader1",color:"success.main",sx:{px:.75},children:(0,h.jsx)(o.cC,{id:"enabled"})}):(0,h.jsx)(u.Z,{variant:"subheader1",color:"error.main",sx:{px:.75},children:(0,h.jsx)(o.cC,{id:"disabled"})}),(0,h.jsx)(u.Z,{variant:"description",color:"text.primary",sx:{mr:.5},children:(0,h.jsx)(o.cC,{id:"for"})}),(0,h.jsx)(be.T1,{symbol:g.iconSymbol,sx:{fontSIze:r}}),(0,h.jsx)(se.y,{title:(0,h.jsxs)(u.Z,{variant:"secondary14",color:"common.white",children:[g.name," (",g.symbol,")"]}),arrow:!0,placement:"top",children:(0,h.jsx)(u.Z,{variant:"secondary14",color:"text.primary",sx:{ml:g.iconSymbol.split("_").length>1?3:1},children:g.symbol})})]});case"SwapBorrowRate":case"Swap":var b=n,Z=J(b.reserve);return(0,h.jsxs)(l.Z,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,h.jsx)(we,{borrowRateMode:b.borrowRateModeFrom.toString(),swapBorrowRateTx:b}),(0,h.jsx)(w.Z,{sx:{fontSize:"20px",px:1},children:(0,h.jsx)(ve.Z,{})}),(0,h.jsx)(we,{borrowRateMode:b.borrowRateModeTo.toString(),swapBorrowRateTx:b}),(0,h.jsx)(u.Z,{variant:"caption",color:"text.secondary",px:2,children:(0,h.jsx)(o.cC,{id:"for"})}),(0,h.jsx)(be.T1,{symbol:Z.iconSymbol,sx:{fontSIze:r}}),(0,h.jsx)(se.y,{title:(0,h.jsxs)(u.Z,{variant:"secondary14",color:"common.white",children:[Z.name," (",Z.symbol,")"]}),arrow:!0,placement:"top",children:(0,h.jsx)(u.Z,{variant:"secondary14",color:"text.primary",sx:{ml:Z.iconSymbol.split("_").length>1?3:1},children:b.reserve.symbol})})]});case"LiquidationCall":var S=n,C=J(S.collateralReserve),O=J(S.principalReserve),R=(0,_.formatUnits)(S.collateralAmount,S.collateralReserve.decimals),P=(0,_.formatUnits)(S.principalAmount,S.principalReserve.decimals);return(0,h.jsxs)(l.Z,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,h.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"column"},pr:4.5,children:[(0,h.jsx)(u.Z,{children:(0,h.jsx)(o.cC,{id:"Liquidated collateral"})}),(0,h.jsxs)(l.Z,{sx:{display:"inline-flex"},children:[(0,h.jsx)(be.T1,{symbol:C.iconSymbol,sx:{fontSIze:r,pr:.5}}),(0,h.jsxs)(l.Z,{sx:{ml:C.iconSymbol.split("_").length>1?3:1,display:"inline-flex"},children:[(0,h.jsx)(u.Z,{variant:"secondary14",color:"text.primary",sx:{display:"inline-flex",mb:.5},children:"\u2212"}),(0,h.jsx)(se.y,{wrap:!0,title:(0,h.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,h.jsx)(Ze,{value:Number(S.collateralAssetPriceUSD)*Number(R)}),(0,h.jsxs)(l.Z,{sx:{display:"flex"},children:[(0,h.jsx)(ge.B,{value:R,variant:"secondary14",color:"common.white",sx:{mr:1}}),(0,h.jsx)(u.Z,{variant:"secondary14",color:"common.white",children:C.symbol})]})]}),arrow:!0,placement:"top",children:(0,h.jsx)(l.Z,{children:(0,h.jsx)(ge.B,{value:R,variant:"secondary14",color:"text.primary",sx:{mr:1},compact:!0,compactThreshold:1e5})})}),(0,h.jsx)(se.y,{title:(0,h.jsxs)(u.Z,{variant:"secondary14",color:"common.white",children:[C.name," (",C.symbol,")"]}),arrow:!0,placement:"top",children:(0,h.jsx)(u.Z,{variant:"secondary14",color:"text.primary",sx:{display:"inline-flex"},children:C.symbol})})]})]})]}),(0,h.jsx)(w.Z,{sx:{fontSize:"14px"},children:(0,h.jsx)(ve.Z,{})}),(0,h.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"column"},pl:4.5,children:[(0,h.jsx)(u.Z,{children:(0,h.jsx)(o.cC,{id:"Covered debt"})}),(0,h.jsxs)(l.Z,{sx:{display:"inline-flex"},children:[(0,h.jsx)(be.T1,{symbol:O.iconSymbol,sx:{fontSIze:r,pr:.5}}),(0,h.jsxs)(l.Z,{sx:{ml:O.iconSymbol.split("_").length>1?3:1,display:"inline-flex"},children:[(0,h.jsx)(u.Z,{variant:"secondary14",color:"text.primary",sx:{display:"inline-flex",mb:.5},children:"+"}),(0,h.jsx)(se.y,{wrap:!0,title:(0,h.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,h.jsx)(Ze,{value:Number(S.borrowAssetPriceUSD)*Number(P)}),(0,h.jsxs)(l.Z,{sx:{display:"flex"},children:[(0,h.jsx)(ge.B,{value:P,variant:"secondary14",color:"common.white",sx:{mr:1}}),(0,h.jsx)(u.Z,{variant:"secondary14",color:"common.white",children:O.symbol})]})]}),arrow:!0,placement:"top",children:(0,h.jsx)(l.Z,{children:(0,h.jsx)(ge.B,{value:P,variant:"secondary14",color:"text.primary",sx:{mr:1},compact:!0,compactThreshold:1e5})})}),(0,h.jsx)(se.y,{title:(0,h.jsxs)(u.Z,{variant:"secondary14",color:"common.white",children:[O.name," (",O.symbol,")"]}),arrow:!0,placement:"top",children:(0,h.jsx)(u.Z,{variant:"secondary14",color:"text.primary",sx:{display:"inline-flex"},children:O.symbol})})]})]})]})]});default:return(0,h.jsx)(h.Fragment,{})}};function Oe(e){var n=e.action;return(0,h.jsx)(u.Z,{variant:"subheader2",color:"text.muted",children:(0,h.jsx)(Se,{action:n})})}var Re=function(e){var n=e.transaction,r=(0,t.useState)(!1),i=r[0],s=r[1],c=(0,L.Yh)((function(e){return{currentNetworkConfig:e.currentNetworkConfig,trackEvent:e.trackEvent}})),d=c.currentNetworkConfig,x=c.trackEvent,p=(0,a.Z)();(0,t.useEffect)((function(){if(i){var e=setTimeout((function(){s(!1)}),1e3);return function(){clearTimeout(e)}}}),[i]);var m=d.explorerLinkBuilder({tx:n.txHash});return(0,h.jsx)(l.Z,{children:(0,h.jsx)(ue.H,{px:4,sx:{borderWidth:"1px 0 0 0",borderStyle:"solid",borderColor:"".concat(p.palette.divider)},children:(0,h.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"left",width:"100%"},children:[(0,h.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",pt:"14px"},children:[(0,h.jsx)(l.Z,{sx:{display:"flex",gap:2},children:(0,h.jsx)(Oe,{action:n.action})}),(0,h.jsxs)(l.Z,{sx:{display:"inline-flex",alignItems:"center"},children:[" ",(0,h.jsx)(u.Z,{variant:"caption",color:"text.muted",children:Y({unixTimestamp:n.timestamp})}),(0,h.jsxs)(Z.Z,{sx:{display:"flex",ml:3,mr:1,width:"69px",height:"20px",fontSize:"0.6rem",alignItems:"center",justifyContent:"center",pl:1,pr:1},variant:"outlined",href:m,target:"_blank",onClick:function(){return x(W.vh.EXTERNAL_LINK,{funnel:"TxHistoy",Link:"Etherscan"})},children:[(0,h.jsx)(o.cC,{id:"VIEW TX"})," ",(0,h.jsx)(w.Z,{sx:{fontSize:"15px",pl:1,pb:.5},children:(0,h.jsx)(je.Z,{})})]})]})]}),(0,h.jsx)(l.Z,{sx:{py:"28px"},children:(0,h.jsx)(Ce,{transaction:n,iconSize:"24px"})})]})})})},Pe=function(){var e=(0,t.useState)(""),n=e[0],r=e[1],i=(0,t.useState)(!1),s=i[0],a=i[1],c=(0,t.useState)([]),d=c[0],x=c[1],p=(0,t.useState)(!1),y=p[0],g=p[1],S=t.useState(null),R=(0,m.Z)(S,2),P=R[0],A=R[1],k=(0,t.useState)(0),D=k[0],T=k[1],N=function(){A(null)},E=function(){g(!1),r("")},I=(0,t.useRef)(null),U=function(e){I.current&&!I.current.contains(e.target)&&""===n&&y&&E()};(0,t.useEffect)((function(){return document.addEventListener("mousedown",U),function(){document.removeEventListener("mousedown",U)}}),[n,y]);var L=n.length>0||d.length>0,B=M({isFilterActive:L}),H=B.data,W=B.isLoading,z=B.fetchNextPage,_=B.isFetchingNextPage,Q=B.fetchForDownload,$=function(){var e=(0,f.Z)(j().mark((function e(){var r,t,i;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,Q({searchQuery:n,filterQuery:d});case 3:r=e.sent,t=G({data:r,csv:!1}),i=JSON.stringify(t,null,2),V("transactions.json",i,"application/json"),a(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=(0,f.Z)(j().mark((function e(){var r,t,i,s,o;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,Q({searchQuery:n,filterQuery:d});case 3:r=e.sent,t=G({data:r,csv:!0}),i=new Set,t.forEach((function(e){Object.keys(e).forEach((function(e){return i.add(e)}))})),s=Array.from(i),o=s.join(",")+"\n",t.forEach((function(e){var n=s.map((function(n){var r,t,i=e[n];return"object"===typeof i?null!==(t=JSON.stringify(i))&&void 0!==t?t:"":null!==(r=String(i))&&void 0!==r?r:""}));o+=n.join(",")+"\n"})),V("transactions.csv",o,"text/csv"),a(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=(0,t.useRef)(null),X=(0,t.useCallback)((function(e){W||(J.current&&J.current.disconnect(),J.current=new IntersectionObserver((function(e){e[0].isIntersecting&&z()})),e&&J.current.observe(e))}),[z,W]),K=(0,t.useMemo)((function(){var e;return(null===H||void 0===H||null===(e=H.pages)||void 0===e?void 0:e.flatMap((function(e){return e})))||[]}),[H]),ee=(0,t.useMemo)((function(){return F({searchQuery:n,filterQuery:d,txns:K})}),[n,d,K]),ne=0===ee.length,ie=""!==n||d.length>0;return(0,h.jsxs)(C.l,{wrapperSx:y?{px:4}:void 0,titleComponent:(0,h.jsxs)(l.Z,{ref:I,sx:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[!y&&(0,h.jsx)(u.Z,{component:"div",variant:"h2",sx:{mr:4,height:"36px"},children:(0,h.jsx)(o.cC,{id:"Transactions"})}),!y&&(0,h.jsxs)(l.Z,{sx:{display:"flex",gap:"22px"},children:[s&&(0,h.jsx)(b.Z,{size:20,sx:{mr:2},color:"inherit"}),(0,h.jsx)(l.Z,{onClick:function(e){A(e.currentTarget)},sx:{cursor:"pointer"},children:(0,h.jsx)(w.Z,{children:(0,h.jsx)(v,{width:20,height:20})})}),(0,h.jsxs)(re.Z,{anchorEl:P,open:Boolean(P),onClose:N,children:[(0,h.jsx)(u.Z,{variant:"subheader2",color:"text.secondary",sx:{mx:4,my:3},children:(0,h.jsx)(o.cC,{id:"Export data to"})}),(0,h.jsxs)(te.Z,{onClick:function(){$(),N()},children:[(0,h.jsx)(pe.Z,{children:(0,h.jsx)(w.Z,{children:(0,h.jsx)(v,{width:22,height:22})})}),(0,h.jsx)(me.Z,{primaryTypographyProps:{variant:"subheader1"},children:(0,h.jsx)(o.cC,{id:".JSON"})})]}),(0,h.jsxs)(te.Z,{onClick:function(){Y(),N()},children:[(0,h.jsx)(pe.Z,{children:(0,h.jsx)(w.Z,{children:(0,h.jsx)(v,{width:22,height:22})})}),(0,h.jsx)(me.Z,{primaryTypographyProps:{variant:"subheader1"},children:(0,h.jsx)(o.cC,{id:".CSV"})})]})]}),(0,h.jsx)(l.Z,{onClick:function(){return g(!0)},children:(0,h.jsx)(w.Z,{sx:{cursor:"pointer"},children:(0,h.jsx)(he.Z,{width:20,height:20})})})]}),y&&(0,h.jsxs)(l.Z,{sx:{width:"100%",display:"flex",justifyContent:"space-between",px:0},children:[(0,h.jsx)(O.M,{wrapperSx:{width:"320px"},placeholder:"Search assets...",onSearchTermChange:r},D),(0,h.jsx)(Z.Z,{onClick:function(){return E()},children:(0,h.jsx)(u.Z,{variant:"buttonM",children:(0,h.jsx)(o.cC,{id:"Cancel"})})})]})]}),children:[(0,h.jsx)(ae,{onFilterChange:x,currentFilter:d}),W?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ye,{}),(0,h.jsx)(ye,{})]}):ne?ie?(0,h.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",flex:1,maxWidth:"468px",margin:"0 auto",my:24},children:[(0,h.jsx)(u.Z,{variant:"h3",color:"text.primary",children:(0,h.jsx)(o.cC,{id:"Nothing found"})}),(0,h.jsx)(u.Z,{sx:{mt:1,mb:4},variant:"description",color:"text.secondary",children:(0,h.jsx)(o.cC,{id:"We couldn't find any transactions related to your search. Try again with a different asset name, or reset filters."})}),(0,h.jsx)(Z.Z,{variant:"outlined",onClick:function(){r(""),x([]),T((function(e){return e+1}))},children:"Reset Filters"})]}):_?(0,h.jsx)(h.Fragment,{}):(0,h.jsx)(l.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",p:4,flex:1},children:(0,h.jsx)(u.Z,{sx:{my:24},variant:"h3",color:"text.primary",children:(0,h.jsx)(o.cC,{id:"No transactions yet."})})}):Object.entries(q(ee)).map((function(e,n){var r=(0,m.Z)(e,2),i=r[0],s=r[1];return(0,h.jsxs)(t.Fragment,{children:[(0,h.jsx)(u.Z,{variant:"h4",color:"text.primary",sx:{ml:4,mt:6,mb:2},children:i}),s.map((function(e,n){var r=n===s.length-1;return(0,h.jsx)("div",{ref:r?X:null,children:(0,h.jsx)(Re,{transaction:e})},n)}))]},n)})),(0,h.jsx)(l.Z,{sx:{display:"flex",justifyContent:"center",mb:_?6:0,mt:10},children:_&&(0,h.jsx)(l.Z,{sx:{height:36,width:186,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,h.jsx)(b.Z,{size:20,style:{color:"#27264C"}})})})]})};function Ae(e){var n=e.action;return(0,h.jsx)(u.Z,{sx:{width:"180px"},children:(0,h.jsx)(Se,{action:n})})}var ke=function(e){var n=e.transaction,r=(0,t.useState)(!1),i=r[0],s=r[1],d=(0,L.Yh)((function(e){return{currentNetworkConfig:e.currentNetworkConfig,trackEvent:e.trackEvent}})),x=d.currentNetworkConfig,p=d.trackEvent,m=(0,a.Z)(),f=(0,c.Z)(m.breakpoints.down("md"));(0,t.useEffect)((function(){if(i){var e=setTimeout((function(){s(!1)}),1e3);return function(){clearTimeout(e)}}}),[i]);var y=x.explorerLinkBuilder({tx:n.txHash});return(0,h.jsx)(l.Z,{px:6,children:(0,h.jsxs)(ue.H,{px:3,sx:{borderWidth:"1px 0 0 0",borderStyle:"solid",borderColor:"".concat(m.palette.divider),height:"72px"},children:[(0,h.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"left",gap:"4px",mr:6},children:[(0,h.jsx)(Ae,{action:n.action}),(0,h.jsx)(u.Z,{variant:"caption",color:"text.muted",children:Y({unixTimestamp:n.timestamp})})]}),(0,h.jsx)(l.Z,{children:(0,h.jsx)(Ce,{transaction:n,iconSize:"20px"})}),(0,h.jsx)(le.h,{align:"right",children:(0,h.jsx)(l.Z,{sx:{display:"inline-flex",alignItems:"center"},children:!f&&(0,h.jsxs)(Z.Z,{variant:"outlined",href:y,target:"_blank",onClick:function(){return p(W.vh.EXTERNAL_LINK,{funnel:"TxHistoy",Link:"Etherscan"})},children:[(0,h.jsx)(o.cC,{id:"View"})," ",(0,h.jsx)(w.Z,{sx:{marginLeft:"5px",fontSize:"20px",color:"text.secondary"},children:(0,h.jsx)(je.Z,{})})]})})})]})})},De=function(){var e=(0,t.useState)(""),n=e[0],r=e[1],i=(0,t.useState)(!1),s=i[0],d=i[1],x=(0,t.useState)([]),p=x[0],y=x[1],R=(0,t.useState)(0),P=R[0],A=R[1],k=n.length>0||p.length>0,D=(0,L.Yh)((function(e){return e.trackEvent})),T=M({isFilterActive:k}),N=T.data,E=T.isLoading,I=T.fetchNextPage,U=T.isFetchingNextPage,B=T.fetchForDownload,z=T.subgraphUrl,_=function(){var e=(0,f.Z)(j().mark((function e(){var r,t,i;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(W.yD.DOWNLOAD,{type:"JSON"}),d(!0),e.next=4,B({searchQuery:n,filterQuery:p});case 4:r=e.sent,t=G({data:r,csv:!1}),i=JSON.stringify(t,null,2),V("transactions.json",i,"application/json"),d(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=(0,f.Z)(j().mark((function e(){var r,t,i,s,o;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(W.yD.DOWNLOAD,{type:"CSV"}),d(!0),e.next=4,B({searchQuery:n,filterQuery:p});case 4:r=e.sent,t=G({data:r,csv:!0}),i=new Set,t.forEach((function(e){Object.keys(e).forEach((function(e){return i.add(e)}))})),s=Array.from(i),o=s.join(",")+"\n",t.forEach((function(e){var n=s.map((function(n){var r,t,i=e[n];return"object"===typeof i?null!==(t=JSON.stringify(i))&&void 0!==t?t:"":null!==(r=String(i))&&void 0!==r?r:""}));o+=n.join(",")+"\n"})),V("transactions.csv",o,"text/csv"),d(!1);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=(0,t.useRef)(null),Y=(0,t.useCallback)((function(e){E||($.current&&$.current.disconnect(),$.current=new IntersectionObserver((function(e){e[0].isIntersecting&&I()})),e&&$.current.observe(e))}),[I,E]),J=(0,a.Z)(),X=(0,c.Z)(J.breakpoints.down("md")),K=(0,H.Z)(),ee=K.currentAccount,ne=K.loading,re=(0,t.useMemo)((function(){var e;return(null===N||void 0===N||null===(e=N.pages)||void 0===e?void 0:e.flatMap((function(e){return e})))||[]}),[N]),te=(0,t.useMemo)((function(){return F({searchQuery:n,filterQuery:p,txns:re})}),[n,p,re]);if(!z)return(0,h.jsx)(g.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",p:4,flex:1},children:(0,h.jsx)(u.Z,{variant:X?"h4":"h3",children:(0,h.jsx)(o.cC,{id:"Transaction history is not currently available for this market"})})});if(!ee)return(0,h.jsx)(S.w,{loading:ne,description:(0,h.jsx)(o.cC,{id:"Please connect your wallet to view transaction history."})});if(X)return(0,h.jsx)(Pe,{});var ie=0===te.length,se=""!==n||p.length>0;return(0,h.jsxs)(C.l,{titleComponent:(0,h.jsx)(u.Z,{component:"div",variant:"h2",sx:{mr:4},children:(0,h.jsx)(o.cC,{id:"Transactions"})}),children:[(0,h.jsxs)(l.Z,{sx:{display:"flex",justifyContent:"space-between",mx:8,mt:6,mb:4},children:[(0,h.jsxs)(l.Z,{sx:{display:"inline-flex"},children:[(0,h.jsx)(ae,{onFilterChange:y,currentFilter:p}),(0,h.jsx)(O.M,{onSearchTermChange:r,placeholder:"Search assets...",wrapperSx:{width:"280px"}},P)]}),(0,h.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",height:36,gap:.5},children:[s&&(0,h.jsx)(b.Z,{size:16,sx:{mr:2},color:"inherit"}),(0,h.jsxs)(l.Z,{sx:{cursor:"pointer",color:"primary",height:"auto",width:"auto",display:"flex",alignItems:"center",mr:6},onClick:Q,children:[(0,h.jsx)(w.Z,{children:(0,h.jsx)(v,{width:22,height:22})}),(0,h.jsx)(u.Z,{variant:"buttonM",color:"text.primary",children:(0,h.jsx)(o.cC,{id:".CSV"})})]}),(0,h.jsxs)(l.Z,{sx:{cursor:"pointer",color:"primary",height:"auto",width:"auto",display:"flex",alignItems:"center"},onClick:_,children:[(0,h.jsx)(w.Z,{children:(0,h.jsx)(v,{width:22,height:22})}),(0,h.jsx)(u.Z,{variant:"buttonM",color:"text.primary",children:(0,h.jsx)(o.cC,{id:".JSON"})})]})]})]}),E?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(xe,{}),(0,h.jsx)(xe,{})]}):ie?se?(0,h.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",p:4,flex:1,maxWidth:"468px",margin:"0 auto",my:24},children:[(0,h.jsx)(u.Z,{variant:"h3",color:"text.primary",children:(0,h.jsx)(o.cC,{id:"Nothing found"})}),(0,h.jsx)(u.Z,{sx:{mt:1,mb:4},variant:"description",color:"text.secondary",children:(0,h.jsx)(o.cC,{id:"We couldn't find any transactions related to your search. Try again with a different asset name, or reset filters."})}),(0,h.jsx)(Z.Z,{variant:"outlined",onClick:function(){r(""),y([]),A((function(e){return e+1}))},children:"Reset Filters"})]}):U?(0,h.jsx)(h.Fragment,{}):(0,h.jsx)(l.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",p:4,flex:1},children:(0,h.jsx)(u.Z,{sx:{my:24},variant:"h3",color:"text.primary",children:(0,h.jsx)(o.cC,{id:"No transactions yet."})})}):Object.entries(q(te)).map((function(e,n){var r=(0,m.Z)(e,2),i=r[0],s=r[1];return(0,h.jsxs)(t.Fragment,{children:[(0,h.jsx)(u.Z,{variant:"h4",color:"text.primary",sx:{ml:9,mt:6,mb:2},children:i}),s.map((function(e,n){var r=n===s.length-1;return(0,h.jsx)("div",{ref:r?Y:null,children:(0,h.jsx)(ke,{transaction:e})},n)}))]},n)})),(0,h.jsx)(l.Z,{sx:{display:"flex",justifyContent:"center",mb:U?6:0,mt:10},children:U&&(0,h.jsx)(l.Z,{sx:{height:36,width:186,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,h.jsx)(b.Z,{size:20,style:{color:"#27264C"}})})})]})};function Te(){var e=(0,L.Yh)((function(e){return e.trackEvent}));return(0,t.useEffect)((function(){e("Page Viewed",{"Page Name":"History"})}),[e]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(p,{}),(0,h.jsx)(i.O,{children:(0,h.jsx)(De,{})})]})}Te.getLayout=function(e){return(0,h.jsx)(s.Z,{children:e})}},45745:function(e,n,r){"use strict";r.d(n,{w:function(){return p}});var t=r(59499),i=r(4730),s=r(49501),o=r(70918),a=r(90149),c=r(29630),l=r(3765),u=r(85893),d=["loading","description","sx"];function x(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function h(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?x(Object(r),!0).forEach((function(n){(0,t.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var p=function(e){var n=e.loading,r=e.description,t=e.sx,x=(0,i.Z)(e,d);return(0,u.jsx)(o.Z,h(h({},x),{},{sx:h({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",p:4,flex:1},t),children:(0,u.jsx)(u.Fragment,{children:n?(0,u.jsx)(a.Z,{}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(c.Z,{variant:"h2",sx:{mb:2},children:(0,u.jsx)(s.cC,{id:"Please, connect your wallet"})}),(0,u.jsx)(c.Z,{sx:{mb:6},color:"text.secondary",children:r||(0,u.jsx)(s.cC,{id:"Please connect your wallet to see your supplies, borrowings, and open positions."})}),(0,u.jsx)(l.p,{})]})})}))}},15446:function(e,n,r){"use strict";r.d(n,{O:function(){return o}});var t=r(61953),i=r(36336),s=r(85893),o=function(e){var n=e.children;return(0,s.jsx)(t.Z,{sx:{display:"flex",flexDirection:"column",flex:1,mt:{xs:"-32px",lg:"-46px",xl:"-44px",xxl:"-48px"}},children:(0,s.jsx)(i.Z,{children:n})})}},8403:function(e,n,r){"use strict";r.d(n,{M:function(){return f}});var t=r(59499),i=r(53737),s=r(33740),o=r(62097),a=r(61225),c=r(61953),l=r(81011),u=r(80562),d=r(23279),x=r.n(d),h=r(67294),p=r(85893);function m(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}var f=function(e){var n=e.onSearchTermChange,r=e.wrapperSx,d=e.placeholder,f=(0,h.useRef)(null),y=(0,h.useState)(""),j=y[0],v=y[1],g=(0,o.Z)().breakpoints,b=(0,a.Z)(g.down("sm")),w=(0,h.useMemo)((function(){return x()((function(e){n(e)}),300)}),[n]);return(0,p.jsxs)(c.Z,{sx:function(e){return function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?m(Object(r),!0).forEach((function(n){(0,t.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}({display:"flex",alignItems:"center",gap:2,border:"1px solid ".concat(e.palette.divider),borderRadius:"6px",height:"36px"},r)},children:[(0,p.jsx)(c.Z,{sx:{ml:2,mt:1},children:(0,p.jsx)(i.Z,{height:16})}),(0,p.jsx)(l.ZP,{autoFocus:b,inputRef:f,sx:{width:"100%",fontSize:{xs:16,sm:14}},placeholder:d,value:j,onChange:function(e){v(e.target.value),w(e.target.value)}}),(0,p.jsx)(u.Z,{sx:{p:0,mr:2,visibility:j?"visible":"hidden"},onClick:function(){return function(){var e;v(""),n(""),null===(e=f.current)||void 0===e||e.focus()}()},children:(0,p.jsx)(s.Z,{height:16})})]})}},3765:function(e,n,r){"use strict";r.d(n,{p:function(){return u}});var t=r(49501),i=r(75084),s=r(26074),o=r(24834),a=r(57609),c=r(58294),l=r(85893),u=function(e){var n=e.funnel,r=(0,s.q)().setWalletModalOpen,u=(0,o.Yh)((function(e){return e.trackEvent}));return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.Z,{variant:"gradient",onClick:function(){u(a.Bp.CONNECT_WALLET,{funnel:n}),r(!0)},children:(0,l.jsx)(t.cC,{id:"Connect wallet"})}),(0,l.jsx)(c.x,{})]})}},45884:function(e,n,r){"use strict";r.d(n,{h:function(){return s}});var t=r(61953),i=r(85893),s=function(e){var n=e.isRow,r=e.children,s=e.minWidth,o=e.maxWidth,a=e.align,c=void 0===a?"center":a,l=e.overFlow,u=void 0===l?"visible":l,d=e.flex,x=void 0===d?1:d,h=e.p,p=void 0===h?1:h;return(0,i.jsx)(t.Z,{sx:{display:"flex",flexDirection:n?"row":"column",alignItems:n?"center":"left"===c?"flex-start":"right"===c?"flex-end":c,justifyContent:n?"flex-start":"flex-end",flex:x,minWidth:s||"70px",maxWidth:o,overflow:u,padding:p},children:r})}},32383:function(e,n,r){"use strict";r.d(n,{H:function(){return u}});var t=r(59499),i=r(4730),s=r(61953),o=r(85893),a=["children","minHeight","px","button"];function c(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function l(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?c(Object(r),!0).forEach((function(n){(0,t.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var u=function(e){var n=e.children,r=e.minHeight,t=void 0===r?71:r,c=e.px,u=void 0===c?4:c,d=e.button,x=(0,i.Z)(e,a);return(0,o.jsx)(s.Z,l(l({},x),{},{sx:l(l({display:"flex",alignItems:"center",minHeight:t,px:u,"&:not(:last-child)":{borderBottom:"1px solid",borderColor:"divider"}},d?{"&:hover":{bgcolor:"action.hover"}}:{}),x.sx),children:n}))}},42968:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/history",function(){return r(50817)}])},53737:function(e,n,r){"use strict";var t=r(67294);const i=t.forwardRef((function(e,n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:n},e),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"}))}));n.Z=i}},function(e){e.O(0,[249,980,774,888,179],(function(){return n=42968,e(e.s=n);var n}));var n=e.O();_N_E=n}]);