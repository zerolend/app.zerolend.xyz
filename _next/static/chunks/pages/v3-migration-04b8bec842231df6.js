(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[562],{96471:function(e,t,r){"use strict";var n=r(64836);t.Z=void 0;var i=n(r(64938)),s=r(85893),a=(0,i.default)((0,s.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBackOutlined");t.Z=a},21386:function(e,t,r){"use strict";var n=r(64836);t.Z=void 0;var i=n(r(64938)),s=r(85893),a=(0,i.default)((0,s.jsx)("path",{d:"M9 16.17 5.53 12.7a.9959.9959 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71c.39-.39.39-1.02 0-1.41a.9959.9959 0 0 0-1.41 0L9 16.17z"}),"CheckRounded");t.Z=a},24756:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Ae}});var n,i=r(49501),s=r(62097),a=r(61225),o=r(30120),l=r(44373),c=r(67294),d=r(45745),x=r(15446),u=r(99528),h=r(34220),p=r(43478),m=r(90452),v=r(31647),j=r(77537),f=r(26079),g=r(1279),b=r(58771),y=r(70918),Z=r(22841),w=r(75158),k=r(29630),C=r(75084),S=r(81645),O=r(25563),A=r(92391),I=r(19952),P=r(18384),T=r(8195),D=r(46930),M=r(80227),B=r(91655),E=r(96875),N=r(85893),R=function(e){var t=e.caption,r=e.hfCurrent,n=e.hfAfter,s=e.loading;return(0,N.jsx)(A.X,{caption:t,sx:{mb:{xs:3,lg:4},"&:last-of-type":{mb:0}},captionVariant:"description",children:(0,N.jsxs)(o.Z,{sx:{textAlign:"right"},children:[(0,N.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[s?(0,N.jsx)(B.Z,{width:50}):(0,N.jsx)(E.o,{value:r}),(0,N.jsx)(S.Z,{sx:{fontSize:"16px",color:"text.primary",mx:1},children:(0,N.jsx)(M.Z,{})}),s?(0,N.jsx)(B.Z,{width:50}):(0,N.jsx)(E.o,{value:n})]}),(0,N.jsxs)(k.Z,{variant:"helperText",color:"text.secondary",children:[(0,N.jsx)(i.cC,{id:"Liquidation at"})," <1.0"]})]})})};!function(e){e[e.NO_SELECTION=0]="NO_SELECTION",e[e.V2_HF_TOO_LOW=1]="V2_HF_TOO_LOW",e[e.V3_HF_TOO_LOW=2]="V3_HF_TOO_LOW",e[e.INSUFFICIENT_LTV=3]="INSUFFICIENT_LTV"}(n||(n={}));var _=function(e){var t=e.hfV2Current,r=e.hfV2AfterChange,l=e.hfV3Current,d=e.v3SummaryAfterMigration,x=e.disableButton,u=e.enteringIsolationMode,h=e.loading,p=(0,s.Z)().breakpoints,m=(0,a.Z)(p.down("sm")),v=(0,D.f)().currentMarket,j=(0,O.hu)(v).market,f=(0,T.vR)().openV3Migration,M=(0,c.useState)(!1),B=M[0],E=M[1],_=d.healthFactor,F=d.totalCollateralMarketReferenceCurrency,V=d.totalBorrowsMarketReferenceCurrency,L=d.currentLoanToValue,z=(0,g.hE)(F).multipliedBy(L),W=(0,g.hE)(V).isGreaterThan(z),U=void 0;x&&B?U=n.NO_SELECTION:Number(r)<1.005&&"-1"!==r?U=n.V2_HF_TOO_LOW:Number(_)<1.005&&"-1"!==_?U=n.V3_HF_TOO_LOW:W&&(U=n.INSUFFICIENT_LTV);var H=function(){switch(U){case n.NO_SELECTION:return(0,N.jsx)(i.cC,{id:"No assets selected to migrate."});case n.V2_HF_TOO_LOW:return(0,N.jsx)(i.cC,{id:"This action will reduce V2 health factor below liquidation threshold. retain collateral or migrate borrow position to continue."});case n.V3_HF_TOO_LOW:return(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(i.cC,{id:"This action will reduce health factor of V3 below liquidation threshold. Increase migrated collateral or reduce migrated borrow to continue."})});case n.INSUFFICIENT_LTV:return(0,N.jsx)(i.cC,{id:"The loan to value of the migrated positions would cause liquidation. Increase migrated collateral or reduce migrated borrow to continue."});default:return(0,N.jsx)(N.Fragment,{})}};return(0,N.jsxs)(o.Z,{sx:{display:"flex",flexDirection:{xs:"column-reverse",md:"row"},alignItems:"flex-start",justifyContent:"space-between"},children:[(0,N.jsxs)(y.Z,{sx:{p:m?"20px 16px":"20px 30px",mb:{xs:6,md:0},width:{xs:"100%",md:"45%",lg:"35%"}},children:[(0,N.jsx)(A.X,{caption:(0,N.jsx)(i.cC,{id:"Review changes to continue"}),captionVariant:"h3",sx:{mb:6}}),(0,N.jsx)(R,{caption:(0,N.jsx)(i.cC,{id:"Health Factor ({0} v2)",values:{0:j.marketTitle}}),hfCurrent:t,hfAfter:r,loading:h}),(0,N.jsx)(R,{caption:(0,N.jsx)(i.cC,{id:"Health Factor ({0} v3)",values:{0:"Ethereum AMM"===j.marketTitle?"Ethereum":j.marketTitle}}),hfCurrent:l,hfAfter:_,loading:h}),void 0!==U&&(0,N.jsx)(I.v,{severity:"warning",children:(0,N.jsx)(H,{})}),u&&(0,N.jsx)(P.i,{severity:"warning"}),void 0===U&&(0,N.jsx)(o.Z,{sx:{height:"44px",backgroundColor:"background.surface",borderRadius:"4px",display:"flex",justifyContent:"center",mb:4},"data-cy":"migration-risk-checkbox",children:(0,N.jsx)(Z.Z,{sx:{margin:0},control:(0,N.jsx)(w.Z,{checked:B,onChange:function(){return E(!B)},size:"small"}),label:(0,N.jsx)(k.Z,{variant:"description",sx:{position:"relative",top:1},children:(0,N.jsx)(i.cC,{id:"I fully understand the risks of migrating."})})})}),(0,N.jsx)(o.Z,{children:(0,N.jsx)(C.Z,{onClick:f,disabled:!B||void 0!==U,sx:{width:"100%",height:"44px"},variant:B&&void 0===U?"gradient":"contained",size:"medium","data-cy":"migration-button",children:(0,N.jsx)(i.cC,{id:"Preview tx and migrate"})})})]}),(0,N.jsxs)(o.Z,{sx:{width:{xs:"100%",md:"50%",lg:"60%"},p:m?"20px 16px":"20px 30px",mt:m?4:0},children:[(0,N.jsxs)(k.Z,{variant:"h3",sx:{fontWeight:700,mb:{xs:4,lg:6},display:"flex",alignItems:"center"},children:[(0,N.jsx)(S.Z,{sx:{fontSize:"24px",color:"warning.main",mr:2},children:(0,N.jsx)(b.Z,{})}),(0,N.jsx)(i.cC,{id:"Migration risks"})]}),(0,N.jsx)(k.Z,{sx:{mb:{xs:3,lg:4}},children:(0,N.jsx)(i.cC,{id:"Please always be aware of your <0>Health Factor (HF)</0> when partially migrating a position and that your rates will be updated to V3 rates.",components:{0:(0,N.jsx)("b",{})}})}),(0,N.jsx)(k.Z,{sx:{mb:{xs:3,lg:4}},children:(0,N.jsx)(i.cC,{id:"Migrating multiple collaterals and borrowed assets at the same time can be an expensive operation and might fail in certain situations.<0>Therefore it\u2019s not recommended to migrate positions with more than 5 assets (deposited + borrowed) at the same time.</0>",components:{0:(0,N.jsx)("b",{})}})}),(0,N.jsx)(k.Z,{sx:{mb:{xs:4,lg:6}},children:(0,N.jsx)(i.cC,{id:"Be mindful of the network congestion and gas prices."})})]})]})},F=r(75331),V=r(13902),L=r(58057),z=r(21386),W=r(31826),U=r(59499),H=r(67728),Y=r(68861),q=r(58527),J=function(e){var t,r=e.dashboardLink,n=e.marketName,s=e.warningType,a=e.isolatedV3,o=(t={},(0,U.Z)(t,H.b_.EModeBorrowDisabled,(0,N.jsx)(i.cC,{id:"Asset cannot be migrated to {marketName} V3 Market due to E-mode restrictions. You can disable or manage E-mode categories in your <0>V3 Dashboard</0>",values:{marketName:n},components:{0:(0,N.jsx)(Y.rU,{href:r||"",target:"_blank",underline:"always"})}})),(0,U.Z)(t,H.b_.AssetNotFlashloanable,(0,N.jsx)(i.cC,{id:"Flashloan is disabled for this asset, hence this position cannot be migrated."})),(0,U.Z)(t,H.b_.InsufficientLiquidity,(0,N.jsx)(i.cC,{id:"Asset cannot be migrated due to insufficient liquidity or borrow cap limitation in {marketName} v3 market.",values:{marketName:n}})),(0,U.Z)(t,H.b_.NotEnoughtSupplies,(0,N.jsx)(i.cC,{id:"Asset cannot be migrated due to supply cap restriction in {marketName} v3 market.",values:{marketName:n}})),(0,U.Z)(t,H.b_.ReserveFrozen,(0,N.jsx)(i.cC,{id:"Asset is frozen in {marketName} v3 market, hence this position cannot be migrated.",values:{marketName:n}})),(0,U.Z)(t,H.b_.IsolationModeBorrowDisabled,a?(0,N.jsx)(i.cC,{id:"Asset cannot be migrated because you have isolated collateral in {marketName} v3 Market which limits borrowable assets. You can manage your collateral in <0>{marketName} V3 Dashboard</0>",values:{marketName:n},components:{0:(0,N.jsx)(Y.rU,{href:r||"",target:"_blank",underline:"always"})}}):(0,N.jsx)(i.cC,{id:"Asset cannot be migrated to {marketName} v3 Market since collateral asset will enable isolation mode.",values:{marketName:n}})),(0,U.Z)(t,H.b_.V3AssetMissing,(0,N.jsx)(i.cC,{id:"Underlying asset does not exist in {marketName} v3 Market, hence this position cannot be migrated.",values:{marketName:n}})),t);return(0,N.jsx)(q.G,{iconSize:16,color:"error.main",icon:(0,N.jsx)(b.Z,{}),children:(0,N.jsx)(k.Z,{variant:"caption",color:"text.secondary",children:o[s]})})},G=r(44749),K=r(45884),X=r(32383),$=r(41024),Q=r(14463),ee=r(2180),te=r(82808),re=r(54181),ne=function(e){var t=e.enableAsCollateral,r=e.enabledAsCollateral;return(0,N.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[(0,N.jsx)(re.Z,{onClick:t,disableRipple:!0,checked:r,sx:{mb:-1.5}}),(0,N.jsx)(G.Ch,{})]})},ie=function(e){var t=e.v2Amount,r=e.v2Price,n=e.v3Price,s=(0,c.useMemo)((function(){return function(e,t,r){if(!r)return{v3Amount:void 0,v3TotalPrice:void 0};var n=(0,g.hE)(t).div(r).multipliedBy(e),i=n.multipliedBy(r);return{v3Amount:n.toString(),v3TotalPrice:i.toString()}}(t,r,n)}),[t,r,n]),a=s.v3Amount,o=s.v3TotalPrice;return(0,N.jsx)(I.v,{icon:!1,sx:{mb:4},severity:"error",children:(0,N.jsxs)(k.Z,{variant:"caption",component:"span",children:[(0,N.jsx)(i.cC,{id:"stETH tokens will be migrated to Wrapped stETH using Lido Protocol wrapper which leads to supply balance change after migration: {0}",values:{0:a?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)($.B,{variant:"caption",value:a})," (",(0,N.jsx)($.B,{variant:"caption",value:o,symbol:"USD",symbolsColor:"error.100"}),")."]}):(0,N.jsx)(Q.J,{variant:"caption",component:"span"})}})," "]})})},se=function(e){var t=e.checked,r=e.amount,n=e.amountInUSD,a=e.onCheckboxClick,l=e.enabledAsCollateral,c=e.disabled,d=e.enableAsCollateral,x=e.isIsolated,u=e.enteringIsolation,h=e.borrowApyType,p=e.userReserve,m=e.v3Rates,v=e.showCollateralToggle,j=e.isSupplyList,f=h?h===F.tk.Stable?p.stableBorrowAPY:p.reserve.variableBorrowAPY:p.reserve.supplyAPY,g=h?h===F.tk.Stable?p.reserve.sIncentivesData:p.reserve.vIncentivesData:p.reserve.aIncentivesData,b=h?(null===m||void 0===m?void 0:m.variableBorrowAPY)||"-1":(null===m||void 0===m?void 0:m.supplyAPY)||"-1",y=h?(null===m||void 0===m?void 0:m.vIncentivesData)||[]:(null===m||void 0===m?void 0:m.aIncentivesData)||[],Z=(0,te.Yh)(),w=Z.currentMarket,O=Z.currentMarketData,I=(0,s.Z)(),P=void 0===c?"text.secondary":"text.muted",T=void 0===c?"text.primary":"text.muted",D=void 0===(null===m||void 0===m?void 0:m.ltv)&&void 0===(null===m||void 0===m?void 0:m.liquidationThreshold);return(0,N.jsxs)(X.H,{sx:{display:"flex",flexDirection:"column",pl:0},children:[(0,N.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",width:"100%",pb:2,pt:2.5},children:[(0,N.jsx)(K.h,{align:"center",maxWidth:48,minWidth:48,children:(0,N.jsx)(o.Z,{sx:function(e){return{border:"2px solid ".concat(void 0!==c?e.palette.action.disabled:e.palette.text.secondary),background:void 0!==c?e.palette.background.disabled:t?e.palette.text.secondary:e.palette.background.paper,width:16,height:16,borderRadius:"2px","&:hover":{cursor:void 0!==c?"not-allowed":"pointer"},display:"flex",alignItems:"center",justifyContent:"center"}},onClick:void 0!==c?void 0:a,children:void 0===c&&(0,N.jsx)(S.Z,{sx:{fontSize:"14px",color:"background.paper"},children:(0,N.jsx)(L.Z,{})})})}),(0,N.jsx)(K.h,{align:"left",children:(0,N.jsxs)(A.X,{children:[(0,N.jsx)(ee.T1,{symbol:p.reserve.iconSymbol,fontSize:"large"}),(0,N.jsxs)(o.Z,{sx:{pl:"12px",overflow:"hidden",display:"flex"},children:[(0,N.jsx)(k.Z,{variant:"subheader1",color:T,noWrap:!0,sx:{pr:1},children:p.reserve.symbol}),void 0!==c&&(0,N.jsx)(J,{dashboardLink:Y.Z6.dashboard+"/?marketName="+w+"_v3",marketName:O.marketTitle,warningType:c,isolatedV3:u})]})]})})]}),(0,N.jsxs)(o.Z,{sx:{width:"100%",display:"flex",flexDirection:"column",gap:2,pb:4,pl:12},children:[(0,N.jsxs)(o.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,N.jsx)(k.Z,{variant:"description",color:P,children:(0,N.jsx)(i.cC,{id:"Current v2 Balance"})}),(0,N.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[(0,N.jsx)(o.Z,{sx:{display:"flex",alignItems:"flex-end",mb:.5},children:(0,N.jsx)($.B,{value:r,variant:"secondary14",color:T})}),(0,N.jsx)($.B,{value:n,variant:"secondary12",color:P,symbolsColor:P,symbol:"USD"})]})]}),(0,N.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,N.jsx)(k.Z,{variant:"description",color:P,children:(0,N.jsx)(i.cC,{id:"APY change"})}),(0,N.jsxs)(o.Z,{sx:{display:"flex"},children:[(0,N.jsx)(W.J,{value:f,symbol:p.reserve.symbol,incentives:g,variant:"main14",color:T}),(0,N.jsx)(S.Z,{sx:{px:1.5},children:(0,N.jsx)(M.Z,{fontSize:"14px",color:void 0===c?I.palette.text.secondary:I.palette.text.muted})}),(0,N.jsx)(W.J,{value:b,symbol:p.reserve.symbol,incentives:y,variant:"main14",color:T})]})]}),!!d&&(0,N.jsxs)(o.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,N.jsx)(k.Z,{variant:"description",color:P,children:(0,N.jsx)(i.cC,{id:"Collateral change"})}),(0,N.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center"},children:[p.usageAsCollateralEnabledOnUser&&"0"!==p.reserve.reserveLiquidationThreshold?(0,N.jsx)(z.Z,{fontSize:"small",color:"success"}):(0,N.jsx)(Q.J,{variant:"main14",color:P}),(0,N.jsx)(S.Z,{sx:{px:1.5},children:(0,N.jsx)(M.Z,{fontSize:"14px",color:void 0===c?I.palette.text.secondary:I.palette.text.muted})}),v?(0,N.jsx)(ne,{enableAsCollateral:d,enabledAsCollateral:l}):l?x?(0,N.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,N.jsx)(S.Z,{sx:{color:"warning.main",fontSize:"20px"},children:(0,N.jsx)(V.Z,{})}),(0,N.jsx)(G.Ch,{})]}):(0,N.jsx)(z.Z,{fontSize:"small",color:"success"}):(0,N.jsx)(Q.J,{variant:"main14",color:P})]})]}),!!h&&(0,N.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,N.jsx)(k.Z,{variant:"description",color:P,children:(0,N.jsx)(i.cC,{id:"APY type change"})}),(0,N.jsxs)(o.Z,{sx:{display:"flex"},children:[(0,N.jsx)(C.Z,{variant:"outlined",size:"small",sx:{width:"50px",background:"white"},disabled:!0,children:(0,N.jsx)(k.Z,{variant:"buttonS",color:T,children:h})}),(0,N.jsx)(S.Z,{sx:{px:1.5},children:(0,N.jsx)(M.Z,{fontSize:"14px",color:void 0===c?I.palette.text.secondary:I.palette.text.muted})}),(0,N.jsx)(C.Z,{variant:"outlined",size:"small",sx:{width:"50px",background:"white"},disabled:!0,children:(0,N.jsx)(k.Z,{variant:"buttonS",color:T,children:"Variable"})})]})]}),j&&(0,N.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,N.jsx)(k.Z,{variant:"description",color:P,children:(0,N.jsx)(i.cC,{id:"Max LTV"})}),(0,N.jsx)(o.Z,{sx:{display:"flex"},children:D?(0,N.jsx)(Q.J,{variant:"main14",color:"text.secondary"}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)($.B,{value:p.reserve.formattedBaseLTVasCollateral,percent:!0,variant:"main14",color:T}),(0,N.jsx)(S.Z,{sx:{px:1.5},children:(0,N.jsx)(M.Z,{fontSize:"14px",color:void 0===c?I.palette.text.secondary:I.palette.text.muted})}),(0,N.jsx)($.B,{value:(null===m||void 0===m?void 0:m.ltv)||0,percent:!0,variant:"main14",color:T})]})})]}),!j&&(0,N.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,N.jsx)(k.Z,{variant:"description",color:P,children:(0,N.jsx)(i.cC,{id:"Liquidation threshold"})}),(0,N.jsx)(o.Z,{sx:{display:"flex"},children:D?(0,N.jsx)(Q.J,{variant:"main14",color:"text.secondary"}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)($.B,{value:p.reserve.formattedReserveLiquidationThreshold,percent:!0,variant:"main14",color:T}),(0,N.jsx)(S.Z,{sx:{px:1.5},children:(0,N.jsx)(M.Z,{fontSize:"14px",color:void 0===c?I.palette.text.secondary:I.palette.text.muted})}),(0,N.jsx)($.B,{value:(null===m||void 0===m?void 0:m.liquidationThreshold)||0,percent:!0,variant:"main14",color:T})]})})]})]}),"stETH"===p.reserve.symbol&&(0,N.jsx)(o.Z,{sx:{pl:"16px",width:"100%"},children:(0,N.jsx)(ie,{v2Price:p.reserve.priceInUSD,v2Amount:r,v3Price:null===m||void 0===m?void 0:m.priceInUSD})})]})},ae=function(e){var t,r=e.checked,n=e.amount,i=e.amountInUSD,l=e.onCheckboxClick,c=e.enabledAsCollateral,d=e.disabled,x=e.enableAsCollateral,u=e.isIsolated,h=e.enteringIsolation,p=e.borrowApyType,m=e.userReserve,v=e.v3Rates,j=e.userControlledCollateral,f=e.canBeEnforced,g=e.isSupplyList,b=(0,s.Z)(),y=(0,te.Yh)(),Z=y.currentMarket,w=y.currentMarketData,O=(0,a.Z)(b.breakpoints.down(1125)),A=void 0===d?"text.primary":"text.muted",I=void 0===d?"text.secondary":"text.muted",P=void 0===(null===v||void 0===v?void 0:v.ltv)&&void 0===(null===v||void 0===v?void 0:v.liquidationThreshold),T=p?p===F.tk.Stable?m.stableBorrowAPY:m.reserve.variableBorrowAPY:m.reserve.supplyAPY,D=p?p===F.tk.Stable?m.reserve.sIncentivesData:m.reserve.vIncentivesData:m.reserve.aIncentivesData,B=p?(null===v||void 0===v?void 0:v.variableBorrowAPY)||"-1":(null===v||void 0===v?void 0:v.supplyAPY)||"-1",E=p?(null===v||void 0===v?void 0:v.vIncentivesData)||[]:(null===v||void 0===v?void 0:v.aIncentivesData)||[],R=j&&u&&f;return O?(0,N.jsx)(se,{checked:r,amount:n,amountInUSD:i,onCheckboxClick:l,enabledAsCollateral:c,disabled:d,enableAsCollateral:x,isIsolated:u,enteringIsolation:h,borrowApyType:p,userReserve:m,v3Rates:v,showCollateralToggle:R,isSupplyList:g}):(0,N.jsxs)(X.H,{sx:{flexDirection:"column",pl:0},"data-cy":"migration-".concat(void 0!==p?"borrow-"+p:"supply","-").concat(m.reserve.symbol),children:[(0,N.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"row",width:"100%",alignItems:"center",my:4},children:[(0,N.jsx)(K.h,{align:"center",maxWidth:64,minWidth:64,children:(0,N.jsx)(o.Z,{sx:function(e){return{border:"2px solid ".concat(void 0!==d?e.palette.action.disabled:e.palette.text.secondary),background:void 0!==d?e.palette.background.disabled:r?e.palette.text.secondary:e.palette.background.paper,width:16,height:16,borderRadius:"2px","&:hover":{cursor:void 0!==d?"not-allowed":"pointer"},display:"flex",alignItems:"center",justifyContent:"center"}},onClick:void 0!==d?void 0:l,"data-cy":"migration-checkbox",children:void 0===d&&(0,N.jsx)(S.Z,{sx:{fontSize:"14px",color:"background.paper"},children:(0,N.jsx)(L.Z,{})})})}),(0,N.jsxs)(K.h,{isRow:!0,maxWidth:250,minWidth:170,children:[(0,N.jsx)(ee.T1,{symbol:m.reserve.iconSymbol,fontSize:"large"}),(0,N.jsxs)(o.Z,{sx:{pl:"12px",overflow:"hidden",display:"flex"},children:[(0,N.jsx)(k.Z,{variant:"subheader1",color:A,noWrap:!0,sx:{pr:1},children:m.reserve.symbol}),void 0!==d&&(0,N.jsx)(J,{dashboardLink:Y.Z6.dashboard+"/?marketName="+Z+"_v3",marketName:w.marketTitle,warningType:d,isolatedV3:!h})]})]}),(0,N.jsx)(K.h,{children:(0,N.jsxs)(o.Z,{sx:{display:"flex"},children:[(0,N.jsx)(W.J,{value:T,symbol:m.reserve.symbol,incentives:D,variant:"main14",color:A}),(0,N.jsx)(S.Z,{sx:{px:1.5},children:(0,N.jsx)(M.Z,{fontSize:"14px",color:void 0===d?b.palette.text.primary:b.palette.text.muted})}),(0,N.jsx)(W.J,{value:B,symbol:m.reserve.symbol,incentives:E,variant:"main14",color:A})]})}),!!x&&(0,N.jsx)(K.h,{children:(0,N.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center"},children:[m.usageAsCollateralEnabledOnUser&&"0"!==m.reserve.reserveLiquidationThreshold?(0,N.jsx)(z.Z,{fontSize:"small",color:"success"}):(0,N.jsx)(Q.J,{variant:"main14",color:I}),(0,N.jsx)(S.Z,{sx:{px:1.5},children:(0,N.jsx)(M.Z,{fontSize:"14px",color:void 0===d?b.palette.text.primary:b.palette.text.muted})}),R?(0,N.jsx)(ne,{enableAsCollateral:x,enabledAsCollateral:c}):c?u?(0,N.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,N.jsx)(S.Z,{sx:{color:"warning.main",fontSize:"20px"},children:(0,N.jsx)(V.Z,{})}),(0,N.jsx)(G.Ch,{})]}):(0,N.jsx)(z.Z,{fontSize:"small",color:"success"}):(0,N.jsx)(Q.J,{variant:"main14",color:I})]})}),g&&(P?(0,N.jsx)(K.h,{children:(0,N.jsx)(Q.J,{variant:"main14",color:"text.secondary"})}):(0,N.jsx)(K.h,{children:(0,N.jsxs)(o.Z,{sx:{display:"flex"},children:[(0,N.jsx)($.B,{value:m.reserve.formattedBaseLTVasCollateral,percent:!0,variant:"secondary14",color:A}),(0,N.jsx)(S.Z,{sx:{px:1.5},children:(0,N.jsx)(M.Z,{fontSize:"14px",color:void 0===d?b.palette.text.primary:b.palette.text.muted})}),(0,N.jsx)($.B,{value:(null===v||void 0===v?void 0:v.ltv)||0,percent:!0,variant:"secondary14",color:A})]})})),!!p&&(0,N.jsx)(K.h,{children:(0,N.jsxs)(o.Z,{sx:{display:"flex"},children:[(0,N.jsx)(C.Z,{variant:"outlined",size:"small",sx:{width:"50px",background:"white"},disabled:!0,children:(0,N.jsx)(k.Z,{variant:"buttonS",color:A,children:p})}),(0,N.jsx)(S.Z,{sx:{px:1.5},children:(0,N.jsx)(M.Z,{fontSize:"14px",color:void 0===d?b.palette.text.primary:b.palette.text.muted})}),(0,N.jsx)(C.Z,{variant:"outlined",size:"small",sx:{width:"50px",background:"white"},disabled:!0,children:(0,N.jsx)(k.Z,{variant:"buttonS",color:A,children:"Variable"})})]})}),!g&&(P?(0,N.jsx)(K.h,{children:(0,N.jsx)(Q.J,{variant:"main14",color:"text.secondary"})}):(0,N.jsx)(K.h,{children:(0,N.jsxs)(o.Z,{sx:{display:"flex"},children:[(0,N.jsx)($.B,{value:m.reserve.formattedReserveLiquidationThreshold,percent:!0,variant:"secondary14",color:A}),(0,N.jsx)(S.Z,{sx:{px:1.5},children:(0,N.jsx)(M.Z,{fontSize:"14px",color:void 0===d?b.palette.text.primary:b.palette.text.muted})}),(0,N.jsx)($.B,{value:null!==(t=null===v||void 0===v?void 0:v.liquidationThreshold)&&void 0!==t?t:-1,percent:!0,variant:"secondary14",color:A})]})})),(0,N.jsxs)(K.h,{children:[(0,N.jsx)($.B,{value:n,variant:"secondary14",color:A}),(0,N.jsx)($.B,{value:i,variant:"secondary12",color:A,symbol:"USD",symbolsColor:A})]})]}),"stETH"===m.reserve.symbol&&(0,N.jsx)(o.Z,{sx:{pl:"16px",width:"100%"},children:(0,N.jsx)(ie,{v2Price:m.reserve.priceInUSD,v2Amount:n,v3Price:null===v||void 0===v?void 0:v.priceInUSD})})]})},oe=function(e){var t=e.selectedBorrowAssets,r=e.userReserve,n=e.toggleSelectedBorrowPosition,i=e.v3Rates,s=e.enteringIsolation,a=(0,c.useMemo)((function(){return!r.migrationDisabled&&t.findIndex((function(e){return r.interestRate==F.tk.Stable?e.debtKey==r.reserve.stableDebtTokenAddress:e.debtKey==r.reserve.variableDebtTokenAddress}))>=0}),[t]),o=r.interestRate==F.tk.Stable?r.stableBorrows:r.variableBorrows,l=r.interestRate==F.tk.Stable?r.stableBorrowsUSD:r.variableBorrowsUSD;return(0,N.jsx)(ae,{checked:a,userReserve:r,amount:o,amountInUSD:l,onCheckboxClick:function(){n(r)},disabled:r.migrationDisabled,enabledAsCollateral:r.usageAsCollateralEnabledOnUser,borrowApyType:r.interestRate,v3Rates:i,enteringIsolation:s,isSupplyList:!1},r.debtKey)},le=function(){var e=(0,s.Z)();return(0,a.Z)(e.breakpoints.down(1125))?(0,N.jsx)(ce,{}):(0,N.jsxs)(X.H,{sx:{pl:0},children:[(0,N.jsx)(K.h,{align:"center",maxWidth:64,minWidth:64,children:(0,N.jsx)(B.Z,{width:16,height:16})}),(0,N.jsx)(K.h,{align:"left",isRow:!0,maxWidth:250,minWidth:170,children:(0,N.jsxs)(o.Z,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,N.jsx)(B.Z,{variant:"circular",width:32,height:32}),(0,N.jsx)(B.Z,{sx:{ml:3},width:39,height:20})]})}),(0,N.jsx)(K.h,{children:(0,N.jsx)(B.Z,{width:120,height:25})}),(0,N.jsx)(K.h,{children:(0,N.jsx)(B.Z,{width:120,height:25})}),(0,N.jsx)(K.h,{children:(0,N.jsx)(B.Z,{width:120,height:25})}),(0,N.jsxs)(K.h,{children:[(0,N.jsx)(B.Z,{width:70,height:16,sx:{mb:1}}),(0,N.jsx)(B.Z,{width:50,height:14})]})]})},ce=function(){return(0,N.jsxs)(X.H,{sx:{display:"flex",flexDirection:"column",pl:0},children:[(0,N.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",width:"100%",pb:2,pt:2.5},children:[(0,N.jsx)(K.h,{align:"center",maxWidth:48,minWidth:48,children:(0,N.jsx)(B.Z,{width:16,height:16})}),(0,N.jsx)(K.h,{align:"left",children:(0,N.jsxs)(o.Z,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,N.jsx)(B.Z,{variant:"circular",width:32,height:32}),(0,N.jsx)(B.Z,{sx:{ml:3},width:39,height:20})]})})]}),(0,N.jsxs)(o.Z,{sx:{width:"100%",display:"flex",flexDirection:"column",gap:2,pb:4,pl:12},children:[(0,N.jsxs)(o.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,N.jsx)(B.Z,{width:130,height:16}),(0,N.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:1},children:[(0,N.jsx)(B.Z,{width:50,height:16}),(0,N.jsx)(B.Z,{width:30,height:14})]})]}),(0,N.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,N.jsx)(B.Z,{width:80,height:16}),(0,N.jsx)(B.Z,{width:115,height:16})]}),(0,N.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,N.jsx)(B.Z,{width:115,height:16}),(0,N.jsx)(B.Z,{width:150,height:16})]}),(0,N.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,N.jsx)(B.Z,{width:140,height:16}),(0,N.jsx)(B.Z,{width:115,height:16})]})]})]})},de=r(99435),xe=r(1475),ue=r(45556);var he=c.forwardRef((function(e,t){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),c.createElement("path",{fillRule:"evenodd",d:"M5 10a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1z",clipRule:"evenodd"}))}));function pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(r),!0).forEach((function(t){(0,U.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ve=function(e){var t=e.numSelected,r=e.allSelected,n=e.onSelectAllClick,i=e.disabled,a=(0,s.Z)(),l={border:"2px solid ".concat(a.palette.text.secondary),background:a.palette.text.secondary,width:16,height:16,borderRadius:"2px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"};return i?(0,N.jsx)(de.M,{children:(0,N.jsx)(k.Z,{variant:"main12",sx:{fontWeight:700},children:(0,N.jsx)(o.Z,{sx:me(me({},l),{},{background:a.palette.action.disabledBackground,border:"2px solid ".concat(a.palette.action.disabled),"&:hover":{cursor:"not-allowed"}})})})}):(0,N.jsx)(de.M,{onClick:n,children:(0,N.jsx)(k.Z,{variant:"main12",sx:{fontWeight:700},children:r?(0,N.jsx)(o.Z,{sx:l,"data-cy":"migration-checkbox-all",children:(0,N.jsx)(S.Z,{sx:{fontSize:"14px",color:"background.paper"},children:(0,N.jsx)(L.Z,{})})}):0!==t?(0,N.jsx)(o.Z,{sx:l,"data-cy":"migration-checkbox-all",children:(0,N.jsx)(S.Z,{sx:{fontSize:"16px",color:"background.paper"},children:(0,N.jsx)(he,{})})}):(0,N.jsx)(o.Z,{sx:me(me({},l),{},{background:"white"}),"data-cy":"migration-checkbox-all"})})})},je=function(e){var t=e.titleComponent,r=e.children,n=e.onSelectAllClick,s=e.loading,a=e.isAvailable,l=e.allSelected,c=e.numSelected,d=e.numAvailable,x=e.disabled;return(0,N.jsx)(o.Z,{sx:{width:"100%"},children:(0,N.jsxs)(ue.l,{titleComponent:(0,N.jsx)(k.Z,{component:"div",variant:"h3",sx:{mr:4},children:t}),children:[(a||s)&&(0,N.jsxs)(xe.u,{sx:{pl:0},children:[(0,N.jsx)(K.h,{align:"center",maxWidth:48,minWidth:48,children:(0,N.jsx)(ve,{allSelected:l,numSelected:c,onSelectAllClick:n,disabled:x})}),(0,N.jsx)(o.Z,{sx:{height:22,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,N.jsx)(k.Z,{variant:"subheader2",color:"text.secondary",children:(0,N.jsx)(i.cC,{id:"{numSelected}/{numAvailable} assets selected",values:{numSelected:c,numAvailable:d}})})})]}),r]})})},fe=[{title:(0,N.jsx)(i.cC,{id:"APY change"})},{title:(0,N.jsx)(i.cC,{id:"Collateral change"})},{title:(0,N.jsx)(i.cC,{id:"Max LTV"})},{title:(0,N.jsx)(i.cC,{id:"Current v2 balance"})}],ge=[{title:(0,N.jsx)(i.cC,{id:"APY change"})},{title:(0,N.jsx)(i.cC,{id:"APY type change"})},{title:(0,N.jsx)(i.cC,{id:"Liquidation Threshold"})},{title:(0,N.jsx)(i.cC,{id:"Current v2 balance"})}],be=function(e){var t=e.titleComponent,r=e.children,n=e.onSelectAllClick,l=e.loading,c=e.isAvailable,d=e.withCollateral,x=e.withBorrow,u=e.allSelected,h=e.numSelected,p=e.numAvailable,m=e.disabled,v=e.isolatedReserveV3,j=(0,s.Z)(),f=(0,te.Yh)(),g=f.currentMarket,b=f.currentMarketData.marketTitle,y=Y.Z6.dashboard+"/?marketName="+g+"_v3";return(0,a.Z)(j.breakpoints.down(1125))?(0,N.jsx)(je,{titleComponent:t,onSelectAllClick:n,loading:l,isAvailable:c,allSelected:u,numSelected:h,disabled:m,numAvailable:p,children:r}):(0,N.jsx)(o.Z,{sx:{width:"100%"},children:(0,N.jsxs)(ue.l,{titleComponent:(0,N.jsxs)(o.Z,{display:"block",children:[(0,N.jsx)(k.Z,{component:"div",variant:"h3",sx:{mr:4},children:t}),v&&!v.enteringIsolationMode&&(0,N.jsx)(o.Z,{sx:{pt:"16px"},children:(0,N.jsx)(I.v,{severity:"warning",icon:!1,sx:{mb:0},children:(0,N.jsx)(k.Z,{variant:"caption",color:j.palette.warning[100],children:(0,N.jsx)(i.cC,{id:"Some migrated assets will not be used as collateral due to enabled isolation mode in {marketName} V3 Market. Visit <0>{marketName} V3 Dashboard</0> to manage isolation mode.",values:{marketName:b},components:{0:(0,N.jsx)(Y.rU,{href:y})}})})})})]}),children:[(c||l)&&(0,N.jsxs)(xe.u,{sx:{pl:0},children:[(0,N.jsx)(K.h,{align:"center",maxWidth:64,minWidth:64,children:(0,N.jsx)(ve,{allSelected:u,numSelected:h,onSelectAllClick:n,disabled:m})}),(0,N.jsx)(K.h,{isRow:!0,maxWidth:250,minWidth:170,children:(0,N.jsx)(de.M,{children:(0,N.jsx)(i.cC,{id:"Assets"})})}),d&&fe.map((function(e,t){return(0,N.jsx)(K.h,{children:(0,N.jsx)(de.M,{children:e.title})},t)})),x&&ge.map((function(e,t){return(0,N.jsx)(K.h,{children:(0,N.jsx)(de.M,{children:e.title})},t)}))]}),r]})})},ye=function(e){var t=e.onSelectAllSupplies,r=e.onSelectAllBorrows,n=e.suppliesPositions,s=e.borrowsPositions,a=e.loading,l=e.isolatedReserveV3,d=e.isSupplyPositionsAvailable,x=e.isBorrowPositionsAvailable,u=e.emodeCategoryId,h=(0,te.Yh)(),p=h.selectedMigrationSupplyAssets,m=h.selectedMigrationBorrowAssets,v=(0,te.Yh)((0,c.useCallback)((function(e){return(0,H.xk)(e,0)}),[])),j=v.supplyReserves,f=v.borrowReserves,g=void 0===j.find((function(e){return void 0===e.migrationDisabled})),b=void 0===f.find((function(e){return void 0===e.migrationDisabled})),y=(0,H.FW)(j,p),Z=y.activeSelections,w=y.activeUnselected,k=(0,H.FW)(f,m),C=k.activeSelections,S=k.activeUnselected;return(0,N.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,N.jsx)(be,{isolatedReserveV3:l,loading:a,onSelectAllClick:t,allSelected:0===w.length,isAvailable:d,titleComponent:(0,N.jsx)(i.cC,{id:"Select v2 supplies to migrate"}),emodeCategoryId:u,withCollateral:!0,disabled:g,numSelected:Z.length||0,numAvailable:j.length||0,children:n}),(0,N.jsx)(be,{loading:a,onSelectAllClick:r,allSelected:0===S.length,isAvailable:x,withBorrow:!0,disabled:b,titleComponent:(0,N.jsx)(i.cC,{id:"Select v2 borrows to migrate"}),numSelected:C.length||0,numAvailable:f.length||0,children:s})]})},Ze=r(96471),we=r(11163),ke=r(40535),Ce=r(74815),Se=function(){var e=(0,we.useRouter)(),t=(0,D.f)().currentMarket,r=(0,O.hu)(t),n=r.market,l=r.network,c=(0,O.St)(n.marketTitle),d=(0,s.Z)(),x=(0,a.Z)(d.breakpoints.down("sm"));return(0,N.jsx)(Ce.f,{titleComponent:(0,N.jsxs)(o.Z,{children:[(0,N.jsx)(o.Z,{sx:{display:"flex",alignItems:x?"flex-start":"center",alignSelf:x?"flex-start":"center",mb:4,minHeight:"40px",flexDirection:x?"column":"row"},children:(0,N.jsx)(C.Z,{variant:"surface",size:"medium",color:"primary",startIcon:(0,N.jsx)(S.Z,{sx:{fontSize:"20px"},children:(0,N.jsx)(Ze.Z,{})}),onClick:function(){e.push(Y.Z6.dashboard)},sx:{mr:3,mb:x?"24px":"0"},"data-cy":"goBack-btn",children:(0,N.jsx)(i.cC,{id:"Go Back"})})}),(0,N.jsx)(ke.V,{pageTitle:(0,N.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,N.jsx)(O.gO,{size:32,logo:l.networkLogoPath,testChainName:c.testChainName}),(0,N.jsx)(i.cC,{id:"Migrate to {0} v3 Market",values:{0:"Ethereum AMM"===n.marketTitle?"Ethereum":n.marketTitle}})]})})]})})},Oe=r(83601);function Ae(){var e=(0,h.HT)().loading,t=(0,j.Z)(),r=t.currentAccount,n=t.loading,u=(0,m.T)().isPermissionsLoading,v=(0,s.Z)(),g=(0,a.Z)(v.breakpoints.down("sm")),b=(0,p.p)(10),y=(0,te.Yh)((0,c.useCallback)((function(e){return(0,H.xk)(e,b)}),[b])),Z=y.supplyReserves,w=y.borrowReserves,k=y.healthFactor,C=y.isolatedReserveV3,S=(0,te.Yh)((function(e){return{v2UserSummaryAfterMigration:(0,H.Zs)(e,b),v3UserSummaryBeforeMigration:(0,H.ee)(e,b),poolReserveV3:(0,Oe.$)(e)}})),O=S.v3UserSummaryBeforeMigration,A=S.v2UserSummaryAfterMigration,I=S.poolReserveV3,P=(0,te.Yh)((0,c.useCallback)((function(e){return(0,H.Cs)(e,b)}),[b])),T=(0,te.Yh)(),D=T.selectAllSupply,M=T.selectAllBorrow,B=T.toggleMigrationSelectedSupplyAsset,E=T.selectedMigrationSupplyAssets,R=T.toggleMigrationSelectedBorrowAsset,F=T.selectedMigrationBorrowAssets,V=T.resetMigrationSelectedAssets,L=T.enforceAsCollateral,z=T.getMigrationExceptionSupplyBalances;(0,c.useEffect)((function(){z&&Z.length>0&&z(Z)}),[z,Z]),(0,c.useEffect)((function(){V&&V()}),[V]),(0,te.Xh)();var W=Object.keys(E).length>1&&"0"==O.totalCollateralMarketReferenceCurrency;return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(Se,{}),r&&!u?(0,N.jsxs)(x.O,{children:[(0,N.jsx)(ye,{loading:e,isSupplyPositionsAvailable:Z.length>0,isBorrowPositionsAvailable:w.length>0,onSelectAllSupplies:function(){D(b)},onSelectAllBorrows:function(){M(b)},emodeCategoryId:null===I||void 0===I?void 0:I.userEmodeCategoryId,isolatedReserveV3:C,suppliesPositions:(0,N.jsx)(N.Fragment,{children:e?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(le,{}),(0,N.jsx)(le,{})]}):Z.length>0?Z.map((function(e){return(0,N.jsx)(ae,{checked:E.findIndex((function(t){return t.underlyingAsset==e.underlyingAsset}))>=0,enableAsCollateral:function(){return t=e.canBeEnforced,r=e.underlyingAsset,void(t&&L(r));var t,r},userControlledCollateral:W,canBeEnforced:"0"==O.totalCollateralMarketReferenceCurrency&&e.canBeEnforced,userReserve:e,amount:e.underlyingBalance,amountInUSD:e.underlyingBalanceUSD,onCheckboxClick:function(){B(e.underlyingAsset)},enabledAsCollateral:e.usageAsCollateralEnabledOnUserV3,isIsolated:e.isolatedOnV3,enteringIsolation:(null===C||void 0===C?void 0:C.enteringIsolationMode)||!1,v3Rates:e.v3Rates,disabled:e.migrationDisabled,isSupplyList:!0},e.underlyingAsset)})):(0,N.jsx)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,N.jsx)(f.N,{text:(0,N.jsx)(i.cC,{id:"Nothing supplied yet"})})})}),borrowsPositions:(0,N.jsx)(N.Fragment,{children:e?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(le,{}),(0,N.jsx)(le,{})]}):w.length>0?w.map((function(e){return(0,N.jsx)(oe,{userReserve:e,selectedBorrowAssets:F,toggleSelectedBorrowPosition:R,v3Rates:e.v3Rates,enteringIsolation:(null===C||void 0===C?void 0:C.enteringIsolationMode)||!1},e.debtKey)})):(0,N.jsx)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,N.jsx)(f.N,{text:(0,N.jsx)(i.cC,{id:"Nothing borrowed yet"})})})})}),!g&&(0,N.jsx)(l.Z,{sx:{my:10}}),(0,N.jsx)(_,{hfV2Current:k,hfV2AfterChange:A.healthFactor,hfV3Current:O.healthFactor,v3SummaryAfterMigration:P,disableButton:!Object.keys(E).length&&!Object.keys(F).length,enteringIsolationMode:(null===C||void 0===C?void 0:C.enteringIsolationMode)||!1,loading:e})]}):(0,N.jsx)(d.w,{loading:n,description:(0,N.jsx)(i.cC,{id:"Please connect your wallet to see migration tool."})})]})}Ae.getLayout=function(e){return(0,N.jsxs)(v.Z,{children:[e,(0,N.jsx)(u.P,{})]})}},45745:function(e,t,r){"use strict";r.d(t,{w:function(){return p}});var n=r(59499),i=r(4730),s=r(49501),a=r(70918),o=r(90149),l=r(29630),c=r(3765),d=r(85893),x=["loading","description","sx"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=function(e){var t=e.loading,r=e.description,n=e.sx,u=(0,i.Z)(e,x);return(0,d.jsx)(a.Z,h(h({},u),{},{sx:h({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",p:4,flex:1},n),children:(0,d.jsx)(d.Fragment,{children:t?(0,d.jsx)(o.Z,{}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.Z,{variant:"h2",sx:{mb:2},children:(0,d.jsx)(s.cC,{id:"Please, connect your wallet"})}),(0,d.jsx)(l.Z,{sx:{mb:6},color:"text.secondary",children:r||(0,d.jsx)(s.cC,{id:"Please connect your wallet to see your supplies, borrowings, and open positions."})}),(0,d.jsx)(c.p,{})]})})}))}},15446:function(e,t,r){"use strict";r.d(t,{O:function(){return a}});var n=r(30120),i=r(36336),s=r(85893),a=function(e){var t=e.children;return(0,s.jsx)(n.Z,{sx:{display:"flex",flexDirection:"column",flex:1,mt:{xs:"-32px",lg:"-46px",xl:"-44px",xxl:"-48px"}},children:(0,s.jsx)(i.Z,{children:t})})}},25563:function(e,t,r){"use strict";r.d(t,{hu:function(){return k},St:function(){return C},gO:function(){return S},tF:function(){return O}});var n=r(59499),i=r(49501),s=r(61782),a=r(30120),o=r(72389),l=r(62097),c=r(61225),d=r(82334),x=r(81645),u=r(29630),h=r(31538),p=r(61702),m=r(67294),v=r(82808),j=r(57609),f=r(46930),g=r(63206),b=r(85893);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w,k=function(e){var t=g.ei[e];return{market:t,network:g.m5[t.chainId]}},C=function(e){var t=["G\xf6rli","Ropsten","Mumbai","Sepolia","Fuji","Testnet","Kovan","Rinkeby"],r=e.split(" "),n=r.filter((function(e){return t.indexOf(e)>-1}));return{name:r.filter((function(e){return!n.includes(e)})).join(" "),testChainName:n[0]}},S=function(e){var t=e.size,r=e.logo,n=e.testChainName;return(0,b.jsxs)(a.Z,{sx:{mr:2,width:t,height:t,position:"relative"},children:[(0,b.jsx)("img",{src:r,alt:"",width:"100%",height:"100%"}),n&&(0,b.jsx)(o.Z,{title:n,arrow:!0,children:(0,b.jsx)(a.Z,{sx:{bgcolor:"#29B6F6",width:"16px",height:"16px",borderRadius:"50%",color:"common.white",fontSize:"12px",lineHeight:"16px",display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",right:"-2px",bottom:"-2px"},children:n.split("")[0]})})]})};!function(e){e[e.V2=0]="V2",e[e.V3=1]="V3"}(w||(w={}));var O=function(){var e=(0,f.f)(),t=e.currentMarket,r=e.setCurrentMarket,n=(0,m.useState)(w.V3)[0],o=(0,l.Z)(),y=(0,c.Z)(o.breakpoints.up("lg")),O=(0,c.Z)(o.breakpoints.down("xsm")),A=(0,v.Yh)((function(e){return e.trackEvent}));return(0,b.jsxs)(d.Z,{select:!0,"aria-label":"select market","data-cy":"marketSelector",value:t,onChange:function(e){A(j.h1.CHANGE_MARKET,{market:e.target.value}),r(e.target.value)},sx:{mr:2,"& .MuiOutlinedInput-notchedOutline":{border:"none"}},SelectProps:{native:!1,className:"MarketSwitcher__select",IconComponent:function(e){return(0,b.jsx)(x.Z,Z(Z({fontSize:"medium"},e),{},{children:(0,b.jsx)(s.Z,{})}))},renderValue:function(e){var t=k(e),r=t.market,n=t.network;return(0,b.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,b.jsx)(S,{size:y?32:28,logo:n.networkLogoPath,testChainName:C(r.marketTitle).testChainName}),(0,b.jsx)(a.Z,{sx:{mr:1,display:"inline-flex",alignItems:"flex-start"},children:(0,b.jsxs)(u.Z,{variant:y?"display1":"h1",sx:{fontSize:O?"1.55rem":void 0,color:"common.white",mr:1},children:[C(r.marketTitle).name," ",r.isFork?"Fork":"",y&&" Market"]})})]})},sx:{"&.MarketSwitcher__select .MuiSelect-outlined":{pl:0,py:0,backgroundColor:"transparent !important"},".MuiSelect-icon":{color:"#F1F1F3"}},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"right"},PaperProps:{style:{minWidth:240},variant:"outlined",elevation:0}}},children:[(0,b.jsx)(a.Z,{children:(0,b.jsx)(u.Z,{variant:"subheader2",color:"text.secondary",sx:{px:4,pt:2},children:(0,b.jsx)(i.cC,{id:"{0}",values:{0:g.p8||g.aV?"Select ZeroLend Testnet Market":"Select ZeroLend Market"}})})}),g.z2.map((function(e){var t=k(e),r=t.market,i=t.network,s=C(r.marketTitle);return(0,b.jsxs)(h.Z,{"data-cy":"marketSelector_".concat(e),value:e,sx:{".MuiListItemIcon-root":{minWidth:"unset"},display:r.v3&&n===w.V2||!r.v3&&n===w.V3?"none":"flex"},children:[(0,b.jsx)(S,{size:32,logo:i.networkLogoPath,testChainName:s.testChainName}),(0,b.jsxs)(p.Z,{sx:{mr:0},children:[s.name," ",r.isFork?"Fork":""]}),(0,b.jsx)(p.Z,{sx:{textAlign:"right"},children:(0,b.jsx)(u.Z,{color:"text.muted",variant:"description",children:s.testChainName})})]},e)}))]})}},40535:function(e,t,r){"use strict";r.d(t,{V:function(){return p}});var n=r(49501),i=r(62097),s=r(61225),a=r(30120),o=r(29630),l=r(75084),c=r(82808),d=r(67728),x=r(25563),u=r(68861),h=r(85893),p=function(e){var t=e.pageTitle,r=e.withMarketSwitcher,p=e.withMigrateButton,m=(0,c.Yh)((function(e){return(0,d.lY)(e)})),v=(0,i.Z)(),j=(0,s.Z)(v.breakpoints.up("lg")),f=(0,s.Z)(v.breakpoints.down("xsm"));return(0,h.jsxs)(a.Z,{sx:{display:"flex",alignItems:{xs:"flex-start",xsm:"center"},mb:t?4:0,flexDirection:{xs:"column",xsm:"row"}},children:[t&&(f||!r)&&(0,h.jsx)(a.Z,{sx:{display:"flex",alignItems:"flex-start"},children:(0,h.jsx)(o.Z,{variant:f?"h2":j?"display1":"h1",sx:{color:r?"text.muted":"text.white",mr:{xs:5,xsm:3},mb:{xs:0,xsm:0}},children:t})}),(0,h.jsxs)(a.Z,{sx:{display:"flex",alignItems:"flex-start",flexWrap:"wrap",mb:t?0:4},children:[r&&(0,h.jsx)(x.tF,{}),m&&p&&(0,h.jsx)(u.rU,{href:u.Z6.migrationTool,sx:{mt:{xs:2,xsm:0}},children:(0,h.jsx)(l.Z,{variant:"gradient",size:"small",children:(0,h.jsx)(n.cC,{id:"Migrate to V3"})})})]})]})}},74815:function(e,t,r){"use strict";r.d(t,{f:function(){return f}});var n=r(59499),i=r(49501),s=r(62097),a=r(61225),o=r(30120),l=r(29630),c=r(36336),d=r(67294),x=r(19952),u=r(40535),h=r(46930),p=r(47850),m=r(85893);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(e){var t=e.pageTitle,r=e.pageDesc,n=e.titleComponent,v=e.withMarketSwitcher,f=e.withMigrateButton,g=e.bridge,b=e.children,y=e.containerProps,Z=void 0===y?{}:y,w=e.pageKey,k=(0,s.Z)(),C=(0,a.Z)(k.breakpoints.down("xsm")),S=(0,h.f)().currentMarketData,O=(0,p.A)();return(0,d.useEffect)((function(){(new window.Gradient).initGradient("#gradient-canvas")}),[]),(0,m.jsxs)(o.Z,{id:"top-info-panel",sx:{color:"#F1F1F3"},children:[(0,m.jsx)("canvas",{id:"gradient-canvas"}),81457!==S.chainId&&(0,m.jsxs)(x.v,{severity:"info",icon:!1,sx:{px:{xs:6,md:8,borderRadius:0,background:"#EFE8FE",marginBottom:0}},children:[(0,m.jsx)(l.Z,{variant:"subheader1",children:(0,m.jsx)(i.cC,{id:"ZeroLend joins Linea's SURGE program \u2764\ufe0f."})}),(0,m.jsx)(l.Z,{variant:"caption",children:(0,m.jsx)(i.cC,{id:"Join using this <0>referral link</0> \ud83d\ude80 and earn 40% of any referral points that the protocol earns as a Liquidity Provider and 40% as a ZERO staker.",components:{0:(0,m.jsx)("a",{href:"https://referrals.linea.build/?refCode=vhN04mGePq",target:"_blank",rel:"noreferrer"})}})})]}),81457===S.chainId&&"market"===w&&(0,m.jsx)(x.v,{severity:"info",icon:!1,sx:{px:{xs:6,md:8,borderRadius:0,background:"#EFE8FE",marginBottom:0}},children:(0,m.jsx)(l.Z,{variant:"subheader2",fontWeight:600,children:(0,m.jsx)(i.cC,{id:"Users who borrow liquidity from the Blast markets get 100% of all Blast Developer Points (Blast Gold). Supply liquidity and farm both ZERO and BLAST airdops. \ud83d\ude80 <0>Learn More</0>",components:{0:(0,m.jsx)("a",{href:"https://twitter.com/zerolendxyz/status/1763284713027039428",target:"_blank",rel:"noreferrer"})}})})}),(0,m.jsxs)(x.v,{severity:"info",icon:!1,sx:{px:{xs:6,md:8,borderRadius:0,color:"#eee",background:"rgba(255, 255, 255, 0.1)",marginBottom:0}},children:[(0,m.jsx)(l.Z,{variant:"subheader1",children:(0,m.jsx)(i.cC,{id:"Stake $ZERO"})}),(0,m.jsxs)(l.Z,{variant:"caption",children:["Stake your $ZERO and earn up to ",O?O.toFixed(2):"-","%, plus a staking bonus up to 20%. Stake your $ZERO "," ",(0,m.jsx)("a",{href:"/stake",target:"_blank",rel:"noreferrer",style:{color:"#fff"},children:"here"}),"."]})]}),(0,m.jsx)(o.Z,{sx:{pt:{xs:6,md:8},pb:{xs:18,md:20,lg:"94px",xl:"92px",xxl:"96px"},color:"#F1F1F3"},children:(0,m.jsx)(c.Z,j(j({},Z),{},{sx:j(j({},Z.sx),{},{pb:0}),children:(0,m.jsxs)(o.Z,{sx:{px:{xs:4,xsm:6}},children:[!n&&(0,m.jsx)(u.V,{pageTitle:t,withMarketSwitcher:v,withMigrateButton:f,bridge:g}),n&&n,r&&(0,m.jsx)(l.Z,{variant:"main14",sx:{color:"text.muted",mt:2,mr:{xs:5,xsm:3},maxWidth:750,mb:r?4:0},style:C?{marginTop:"0px"}:{marginTop:"-12px"},children:r}),(0,m.jsx)(o.Z,{sx:{display:"flex",alignItems:"flex-start",gap:{xs:3,xsm:8},flexWrap:"wrap",width:"100%"},children:b})]})}))})]})}},3765:function(e,t,r){"use strict";r.d(t,{p:function(){return d}});var n=r(49501),i=r(75084),s=r(26074),a=r(82808),o=r(57609),l=r(58294),c=r(85893),d=function(e){var t=e.funnel,r=(0,s.q)().setWalletModalOpen,d=(0,a.Yh)((function(e){return e.trackEvent}));return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(i.Z,{variant:"gradient",onClick:function(){d(o.Bp.CONNECT_WALLET,{funnel:t}),r(!0)},children:(0,c.jsx)(n.cC,{id:"Connect wallet"})}),(0,c.jsx)(l.x,{})]})}},31826:function(e,t,r){"use strict";r.d(t,{J:function(){return u}});var n=r(30120),i=r(41024),s=r(14463),a=r(17218),o=r(15326),l={"USDB-81457":{content:"This includes the +13% native yield"},"ETH-81457":{content:"This includes the +3.2% native yield"}},c=r(46930),d=r(58527),x=r(85893),u=function(e){var t,r,u=e.symbol,h=e.value,p=e.incentives,m=e.variant,v=void 0===m?"secondary14":m,j=e.symbolsVariant,f=e.align,g=e.color,b=e.tooltip,y=e.isSupplyApy,Z=(0,c.f)().currentMarketData,w=b||null!==(t=l["".concat(u,"-").concat(Z.chainId)])&&void 0!==t&&t.content?null===(r=l["".concat(u,"-").concat(Z.chainId)])||void 0===r?void 0:r.content:void 0;return(0,x.jsxs)(n.Z,{sx:{display:"flex",flexDirection:"column",alignItems:f||{xs:"flex-end",xsm:"center"},justifyContent:"center",textAlign:"center"},children:["-1"!==h.toString()?"0"===h.toString()?(0,x.jsx)("div",{}):(0,x.jsxs)(n.Z,{sx:{display:"flex"},children:[(0,x.jsx)(i.B,{"data-cy":"apy",value:h,percent:!0,variant:v,symbolsVariant:j,color:g,symbolsColor:g}),void 0!==w&&(0,x.jsx)(d.G,{children:w})]}):(0,x.jsx)(s.J,{variant:v,color:g||"text.secondary"}),(0,x.jsx)(a.M,{incentives:p,symbol:u}),(0,x.jsx)(o.Z,{showZeroIncentive:"-1"!==h.toString(),symbol:u,isSupply:y})]})}},45884:function(e,t,r){"use strict";r.d(t,{h:function(){return s}});var n=r(30120),i=r(85893),s=function(e){var t=e.isRow,r=e.children,s=e.minWidth,a=e.maxWidth,o=e.align,l=void 0===o?"center":o,c=e.overFlow,d=void 0===c?"visible":c,x=e.flex,u=void 0===x?1:x,h=e.p,p=void 0===h?1:h;return(0,i.jsx)(n.Z,{sx:{display:"flex",flexDirection:t?"row":"column",alignItems:t?"center":"left"===l?"flex-start":"right"===l?"flex-end":l,justifyContent:t?"flex-start":"flex-end",flex:u,minWidth:s||"70px",maxWidth:a,overflow:d,padding:p},children:r})}},99435:function(e,t,r){"use strict";r.d(t,{M:function(){return l}});var n=r(29630),i=r(30120),s=r(82808),a=r(57609),o=r(85893),l=function(e){var t=e.sortName,r=e.sortDesc,l=e.sortKey,c=e.source,d=e.setSortName,x=e.setSortDesc,u=e.onClick,h=e.children,p=(0,s.Yh)((function(e){return e.trackEvent}));return(0,o.jsxs)(n.Z,{component:"div",variant:"subheader2",color:"text.secondary",noWrap:!0,onClick:function(){return u?u():!!l&&(e=l,p(a.uZ.SORT,{sort_by:e,tile:c}),x&&x(!1),d&&d(e),void(t===e&&x&&x(!r)));var e},sx:{cursor:u||l?"pointer":"default",display:"inline-flex",alignItems:"center"},children:[h,!!l&&(0,o.jsxs)(i.Z,{sx:{display:"inline-flex",flexDirection:"column",ml:1},children:[(0,o.jsx)(i.Z,{component:"span",sx:function(e){return{width:0,height:0,borderStyle:"solid",borderWidth:"0 4px 4px 4px",borderColor:"transparent transparent ".concat(t===l&&r?e.palette.text.secondary:e.palette.divider," transparent"),mb:.5}}}),(0,o.jsx)(i.Z,{component:"span",sx:function(e){return{width:0,height:0,borderStyle:"solid",borderWidth:"4px 4px 0 4px",borderColor:"".concat(t!==l||r?e.palette.divider:e.palette.text.secondary," transparent transparent transparent")}}})]})]})}},1475:function(e,t,r){"use strict";r.d(t,{u:function(){return d}});var n=r(59499),i=r(4730),s=r(30120),a=r(85893),o=["px","children"];function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=function(e){var t=e.px,r=void 0===t?4:t,n=e.children,l=(0,i.Z)(e,o);return(0,a.jsx)(s.Z,c(c({},l),{},{sx:c({display:"flex",alignItems:"flex-end",px:r,pt:4,pb:1,position:"sticky",top:0,zIndex:100,bgcolor:"background.paper",borderBottom:"1px solid",borderColor:"divider"},l.sx),children:n}))}},32383:function(e,t,r){"use strict";r.d(t,{H:function(){return d}});var n=r(59499),i=r(4730),s=r(30120),a=r(85893),o=["children","minHeight","px","button"];function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=function(e){var t=e.children,r=e.minHeight,n=void 0===r?71:r,l=e.px,d=void 0===l?4:l,x=e.button,u=(0,i.Z)(e,o);return(0,a.jsx)(s.Z,c(c({},u),{},{sx:c(c({display:"flex",alignItems:"center",minHeight:n,px:d,"&:not(:last-child)":{borderBottom:"1px solid",borderColor:"divider"}},x?{"&:hover":{bgcolor:"action.hover"}}:{}),u.sx),children:t}))}},26079:function(e,t,r){"use strict";r.d(t,{N:function(){return a}});var n=r(30120),i=r(29630),s=r(85893),a=function(e){var t=e.text;return(0,s.jsx)(n.Z,{sx:{px:{xs:4,xsm:6},pt:{xs:3.5,xsm:5.5},pb:{xs:6,sxm:7}},children:(0,s.jsx)(i.Z,{color:"text.secondary",children:t})})}},79340:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/v3-migration",function(){return r(24756)}])}},function(e){e.O(0,[249,326,774,888,179],(function(){return t=79340,e(e.s=t);var t}));var t=e.O();_N_E=t}]);